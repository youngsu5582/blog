---
layout: default
refactor: true
pagination:
  enabled: true
  collection: books
  per_page: 10
  permalink: '/page/:num'
  sort_field: 'date'
  sort_reverse: true
---

{% include lang.html %}

{% assign books = paginator.posts | default: site.books %}
{% assign books = books | where_exp: 'item', 'item.hidden != true' %}

<div class="books-intro d-flex flex-column flex-md-row align-items-md-center mb-4 px-xl-1">
  <div>
    <p class="eyebrow mb-2"><i class="fas fa-book-reader me-2"></i>Books</p>
    <h1 class="mb-2">읽고 기록한 책들</h1>
    <p class="text-muted mb-0">읽을 책들에 대해 간단히 정리하여 쌓아두는 공간입니다.</p>
  </div>
</div>

<div id="book-list" class="flex-grow-1 px-xl-1">
  {% for book in books %}
  {% assign post = book %}
  <article class="card-wrapper card book-card">
    <a href="{{ book.url | relative_url }}" class="post-preview d-block">
      <div class="card-body d-flex flex-column flex-md-row gap-3">
        {% if book.image %}
        {% assign src = book.image.path | default: book.image %}
        {% unless src contains '//' %}
        {% assign src = book.media_subpath | append: '/' | append: src | replace: '//', '/' %}
        {% endunless %}
        {% assign alt = book.image.alt | xml_escape | default: 'Book cover' %}
        {% assign lqip = null %}
        {% if book.image.lqip %}
        {% capture lqip %}lqip="{{ book.image.lqip }}"{% endcapture %}
        {% endif %}
        <div class="book-thumb">
          <div class="ratio ratio-3x4">
            <img src="{{ src | relative_url }}" alt="{{ alt }}" {{ lqip }}>
          </div>
        </div>
        {% else %}
        <div class="book-thumb placeholder">
          <div class="ratio ratio-3x4 d-flex align-items-center justify-content-center text-muted">
            <i class="fas fa-image fa-2x"></i>
          </div>
        </div>
        {% endif %}

        <div class="flex-grow-1 d-flex flex-column">
          <div class="d-flex align-items-center mb-3 flex-wrap gap-2">
            <span class="badge rounded-pill book-badge">
              <i class="fas fa-book fa-fw me-1"></i>Book Note
            </span>
            {% if book.status %}
            <span class="badge rounded-pill book-status">
            <i class="fas fa-flag fa-fw me-1"></i>{{ book.status }}
          </span>
          {% endif %}
        </div>

          <h1 class="card-title my-1">{{ book.title }}</h1>

          <div class="card-text content mt-2 mb-3">
            <p>{% include post-description.html %}</p>
          </div>

          <div class="post-meta d-flex flex-wrap align-items-center gap-3">
            <span class="meta-chip">
              <i class="far fa-calendar fa-fw me-1"></i>
              {% include datetime.html date=book.date lang=lang %}
            </span>
            {% if book.author %}
            <span class="meta-chip">
              <i class="fas fa-user-pen fa-fw me-1"></i>{{ book.author }}
            </span>
            {% endif %}
            {% if book.categories.size > 0 %}
            <span class="meta-chip">
              <i class="far fa-folder-open fa-fw me-1"></i>
              {% assign category_base = "/books/categories/" %}
              {% for category in book.categories %}
              <a href="{{ site.baseurl }}{{ category_base }}{{ category | slugify | url_encode }}/">{{ category }}</a>
              {%- unless forloop.last -%}, {% endunless %}
              {% endfor %}
            </span>
            {% endif %}
          </div>
        </div>
      </div>
    </a>
  </article>
  {% endfor %}
</div>
<!-- #book-list -->

{% if paginator.total_pages > 1 %}
{% include post-paginator.html %}
{% endif %}
