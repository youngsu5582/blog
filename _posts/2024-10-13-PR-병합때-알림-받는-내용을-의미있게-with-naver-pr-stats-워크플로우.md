---
title: "PR ë³‘í•©ë•Œ ì•Œë¦¼ ë°›ëŠ” ë‚´ìš©ì„ ì˜ë¯¸ìˆê²Œ with naver pr stats ì›Œí¬í”Œë¡œìš°"
author: ì´ì˜ìˆ˜
date: 2024-10-13T11:17:56.144Z
tags: ['pr-stats', 'ìš°ì•„í•œ í…Œí¬ì½”ìŠ¤', 'í˜‘ì—…']
categories: ['ê°œë°œì ìƒì‚°ì„±']
description: íŒ€ì›ë“¤ì´ ë¦¬ë·°ë¥¼ ëª‡ ì‹œê°„ ë‚´ í•´ì£¼ëŠ”ì§€, PRì´ ì–¼ë§ˆë‚˜ ì˜¤ë˜ê±¸ë¦¬ëŠ”ì§€, ëŒ€í™”ì˜ ìˆ˜, íŒŒì¼ / ë¼ì¸ì´ ì–¼ë§ˆë‚˜ ë³€í–ˆëŠ”ì§€ ê¶ê¸ˆí•œ ë‹¹ì‹ ì´ë¼ë©´
image:
  path: https://velog.velcdn.com/images/dragonsu/post/f11aaab6-ca8c-4af0-a646-8eab04247a19/image.svg
---
ì—¬ëŸ¬ë¶„ ë“¤ì˜ íŒ€ë“¤ì€ PR ê³¼ ì½”ë“œ ë¦¬ë·°ë¥¼ í•˜ì‹œë‚˜ìš”?
ìŠ¬ë™ ë””ìŠ¤ì½”ë“œì™€ ê°™ì€ í˜‘ì—…ìš© ì•±ì„ ì‚¬ìš© í•˜ì‹œë‚˜ìš”?

ì´ë•Œ, `PR ì„ ë¨¸ì§€í•˜ë©´ ìœ ì˜ë¯¸í•œ ì •ë³´ë“¤ì„ ë°›ê³  ì‹¶ë‹¤!` ë¼ëŠ” ìƒê°ì´ ìˆë‹¤ë©´
í•´ë‹¹ ë‚´ìš©ì€ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í˜¹ì‹œ, ì˜ëª»ëœ ë‚´ìš©ì´ë‚˜ ë‹¤ë¥¸ ì¢‹ì€ ìš”ì†Œë“¤ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ë˜ëŠ”Â `joyson5582@gmail.com`ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”!

### ê¸°ì¡´ ìŠ¬ë™ì˜ ë¬¸ì œì 

í˜„ì¬, ì €í¬ íŒ€ì€ íŒ€ì›ê°„ ì†Œí†µì„ ìœ„í•´ ìŠ¬ë™ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
( ê¸°ì¡´ ìš°í…Œì½”ê°€ ìŠ¬ë™ìœ¼ë¡œ ì»¤ë®¤ë‹ˆí‹°ë¥¼ í•´ì„œ ì´ë¯¸ ë‹¤ë“¤ ìµìˆ™í•´ì¡Œë‹¤ê³  íŒë‹¨ í–ˆìŠµë‹ˆë‹¤. )
ìŠ¬ë™ì—ì„œ ì œê³µí•´ì£¼ëŠ” `Github Integration`  ì„ í†µí•´ ë¨¸ì§€ë  ì‹œ ìŠ¬ë™ì´ ë³´ì—¬ì£¼ëŠ” ì •ë³´ëŠ”

![350](https://i.imgur.com/z6kCQ0k.png)

ìœ„ì™€ ê°™ì´ ë³´ì—¬ì¤ë‹ˆë‹¤.

![350](https://i.imgur.com/qpd6Xqb.png)

( ì˜¤í”ˆëœê±´ ì´ë ‡ê²Œ ì˜ ë³´ì—¬ì£¼ë©´ì„œ ì™œ... )

ë‹¤ì†Œ, ë¨¸ì§€ë  ë•ŒëŠ” ë°›ëŠ” ì •ë³´ë“¤ì´ ì•„ì‰¬ìš´ê±¸ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê·¸ëŸ¬ë©´ ì–´ë–¤ ì •ë³´ë“¤ì´ ì¤‘ìš”í• ê¹Œìš”?

`https://api.github.com/repos/woowacourse-teams/2024-corea/pulls/594`
( [PR í˜ì´ë¡œë“œ ê³µì‹ ë¬¸ì„œ](https://docs.github.com/en/rest/pulls/pulls?apiVersion=2022-11-28#get-a-pull-request) )

ì´ì™€ ê°™ì´ PR ì„ ì¡°íšŒ í•´ë³´ë©´ `ë¼ë²¨`,`ì–´ì‚¬ì¸ë‹ˆ`,`ë¦¬ë·°ì–´`,`ë¨¸ì§€ëœ ì‹œê°„`,`ë³¸ë¬¸` , `ì œëª©` ë“±ë“± ìˆ˜ë§ì€ ì •ë³´ë“¤ì„ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.

## ì•Œë¦¼ ìš”ì†Œ ì •í•˜ê¸°

ì´ëŠ” ê°ìì˜ í”„ë¡œì íŠ¸ & íŒ€ë§ˆë‹¤ ì¤‘ìš”ë„ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì•„ë˜ëŠ” [ì €í¬ íŒ€](https://github.com/woowacourse-teams/2024-corea)ì—ì„œ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œ ë¶€ë¶„ë“¤ ì…ë‹ˆë‹¤.

- ëŒ€í™” ìˆ˜
- ë³€ê²½ íŒŒì¼ / ë¼ì¸ ìˆ˜
- í‰ê·  ë¦¬ë·° ì‘ë‹µ ì‹œê°„ 
- í‰ê·  ìŠ¹ì¸(Approve) ì‹œê°„
- ì´ PR ê¸°ê°„ ( ìƒì„±ëœ ì‹œê°„ ~ ë¨¸ì§€ëœ ì‹œê°„ )

ì €í¬ íŒ€ì€ ë¯¸ì…˜ & ì·¨ì—…ìœ¼ë¡œ ë‹¤ë“¤ ë°”ìœ ì¼ì •ì´ ìˆê¸°ì—, ì§§ì€ ì´ìŠˆ & ì§§ì€ PR ì„ ì§€í–¥í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.
( í¬ê²Œ ë¶€ë‹´ì„ ì£¼ì§€ ì•Šê³ , ì½”ë“œ ë¦¬ë·° & ì‘ì—…ì„ ë§¡ê²Œ í•˜ê¸° ìœ„í•´ )

ê·¸ë ‡ê¸°ì— 

ë³€ê²½ íŒŒì¼ / ë¼ì¸ ìˆ˜, PR ê¸°ê°„ - ì´ìŠˆ ë° PR ì´ ì–¼ë§ˆë‚˜ ì‘ì€ì§€
í‰ê·  ë¦¬ë·° ì‘ë‹µ ì‹œê°„ / ìŠ¹ì¸ ì‹œê°„ - ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ë¦¬ë·°ì— ì°¸ì—¬í–ˆëŠ”ì§€, ë¦¬ë·°ê°€ ëë‚¬ëŠ”ì§€
ëŒ€í™” ìˆ˜ - ì½”ë“œ ë¦¬ë·°ê°€ ìœ ì˜ë¯¸ í–ˆëŠ”ì§€

ê°€ ì¤‘ìš”í•œ ìš”ì†Œë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

![](https://i.imgur.com/ZwaYPll.png)

( ì´ ì‚¼ê°í˜• ì²˜ëŸ¼ ì„¸ ê°€ì§€ê°€ ì¡°í™”ë¡­ê²Œ ì´ë£¨ì–´ì§„ë‹¤ë©´ ë² ìŠ¤íŠ¸ ì¼ê²ë‹ˆë‹¤. )

í•˜ì§€ë§Œ, ë‹¨ìˆœ PRì„ ì¡°íšŒí•  ë•ŒëŠ” í•´ë‹¹ ë‚´ìš©ë“¤ì„ ë°”ë¡œ ì¶©ë¶„í•˜ê²Œ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
( `reviews` ì¡°íšŒ + `comments` ì¡°íšŒ + ì¶”ê°€ ì¡°íšŒ í•„ìš” )

í•˜ì§€ë§Œ, ì¼ì¼íˆ ì§ì ‘ í•˜ëŠ”ê±´ ë§¤ìš° ê·€ì°®ì€ ì¼ì…ë‹ˆë‹¤.

ì´ë¥¼ í•´ê²°í•´ì£¼ëŠ” ì›Œí¬í”Œë¡œìš°ê°€ ìˆìŠµë‹ˆë‹¤!
ë„¤ì´ë²„ì—ì„œ ë§Œë“  ì›Œí¬í”Œë¡œìš°ì¸ https://github.com/naver/pr-stats ì…ë‹ˆë‹¤.

( ë‹¨ì¼ PR ë§ê³ ë„ ëª¨ë“  PR,ê° ìœ ì €ë³„ ì •ë³´ ë“± ë‹¤ì–‘í•˜ê²Œ ì¶”ì¶œ í•´ì¤ë‹ˆë‹¤! ğŸ™‚ğŸ™‚ )

![350](https://i.imgur.com/ncrAkAn.png)

ì‚¬ì´íŠ¸ë¥¼ ë“¤ì–´ê°€ë³´ë©´ ë” ìì„¸íˆ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

## ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

ì´ ë‚´ìš©ìœ¼ë¡œ ì €í¬ëŠ” ìŠ¬ë™ì— ìš”ì²­ì„ ë³´ë‚´ì„œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

![](https://i.imgur.com/ZCryN1z.png)

( ìœ„ì™€ ê°™ì´ ì•Œë¦¼ì„ ì¤ë‹ˆë‹¤. )

[ì›Œí¬ í”Œë¡œìš°](https://github.com/woowacourse-teams/2024-corea/blob/develop/.github/workflows/pr-stats.yml)ì™€ [íŒŒì´ì„ ](https://github.com/woowacourse-teams/2024-corea/blob/develop/.github/scripts/pr-stats.py)ì„ ì‚¬ìš©í•´ì„œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
ì¤‘ìš”í•œ ë¶€ë¶„ë“¤ì— ëŒ€í•´ì„œë§Œ ê°„ë‹¨í•˜ê²Œ ì„¤ëª… í•˜ìë©´

```yml
- name: Analyze PR Stats and Notify
run: |
  python .github/scripts/pr-stats.py
env:
  SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
  PR_HTML_URL: ${{ github.event.pull_request.html_url }}
  ASSIGNEE: ${{ github.event.pull_request.assignee.login }}
  PR_NUMBER: ${{ github.event.pull_request.number }}
```

- í•˜ì´í¼ë§í¬ë¥¼ ìœ„í•œ `html_url`
- ì¹­ì°¬ì„ ìœ„í•œ `assignee` ğŸ™‚
- ì›í•˜ëŠ” PR ì„ ì°¾ê¸° ìœ„í•œ `PR_NUMBER`
- ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•œ `WEBHOOK_URL`

```python
slack_webhook_url = os.getenv("SLACK_WEBHOOK_URL")
pr_html_url = os.getenv("PR_HTML_URL")
assignee = os.getenv("ASSIGNEE")
pr_number = os.getenv("PR_NUMBER")
```

ë¥¼ íŒŒì´ì„  íŒŒì¼ì„ ì‹¤í–‰í•  ë•Œ ë„£ìŠµë‹ˆë‹¤.

```python
def analyze_csv(file_path):
    with open(file_path, newline='') as csvfile:
        reader = csv.DictReader(csvfile)
        stats = []
        for row in reader:
            stats.append(row)
    return stats
```

CSV íŒŒì¼ì—ì„œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³ 

```python
def extract_important_info(pr_data):
    return next((pr for pr in pr_data if pr['number'] == pr_number), None)
```

ê·¸ë¦¬ê³ , í˜„ì¬ ë²ˆí˜¸ì™€ ì¼ì¹˜í•œ ì •ë³´ë¥¼ ì°¾ìŠµë‹ˆë‹¤.

```python
def format_duration(ms):
    if ms == 'NaN':
        return "N/A"

    total_seconds = int(round(float(ms))) / 1000
    days, remainder = divmod(total_seconds, 86400)  # 86400ì´ˆ = 1ì¼
    hours, remainder = divmod(remainder, 3600)  # 3600ì´ˆ = 1ì‹œê°„
    minutes, _ = divmod(remainder, 60)

    if days > 0:
        return f"{int(days)}ì¼ {int(hours)}ì‹œê°„ {int(minutes)}ë¶„ ğŸ˜¢"
    else:
        return f"{int(hours)}ì‹œê°„ {int(minutes)}ë¶„ ğŸ™‚"

# response_time = format_duration(pr['averageResponseTime'])
```

ms ë¥¼ ë°˜ì˜¬ë¦¼í•´ì„œ ì¶”ì¶œí•©ë‹ˆë‹¤.
> í‰ê· ì„ êµ¬í•´ì£¼ë¯€ë¡œ ms ì´ë‚˜ ì†Œìˆ˜ì ì„ í¬í•¨í•©ë‹ˆë‹¤.

ê·¸ í›„ì—ëŠ” ìŠ¬ë™ ë°ì´í„°ë¥¼ ë¹Œë”í•©ë‹ˆë‹¤.
( [Slack Block Kit Builder](https://app.slack.com/block-kit-builder/) ì—ì„œ ì›í•˜ëŠ” í˜•íƒœë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”! )

## ê²°ë¡ 

í˜„ì¬ëŠ” ì‹¤ì œ ìš´ì˜ ì„œë²„ ëŸ°ì¹­ & ë°°í¬ë¥¼ í•œë‹¤ê³ 
ë§Œë“  ê¸°ëŠ¥ì´ ìœ ì˜ë¯¸í•˜ê²Œ ì‘ë™í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤. ( ëŒ€ë¶€ë¶„ì´ ì§§ì€ ì‹œê°„ ë‚´ ë¦¬ë·° ë° ë¨¸ì§€ )

í•˜ì§€ë§Œ, í•´ë‹¹ ë©”ì‹œì§€ë“¤ì„ ë³´ë©° 
`ë” ì¢‹ì€ ì½”ë“œ ë¦¬ë·°`, `í‰ê·  ì‘ë‹µ ì‹œê°„ì„ ë” ë¹ ë¥´ê²Œ` `ì´ìŠˆ(PR) ë‹¨ìœ„ë¥¼ ì§§ê²Œ` ë¥¼ ì˜ì‹í•˜ê²Œ ëœë‹¤ë©´
ì¡°ê¸ˆì´ë¼ë„ ë„ì›€ì´ ë˜ë¦¬ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. â˜ºï¸

### ì°¸ê³ 

> Github Integration ì€ merged ë§Œ ì•ˆë°›ê²Œ í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ
`/github unsubscribe woowacourse-teams/2024-corea pulls` ì™€ ê°™ì´ opened ê¹Œì§€ ê°™ì´ êº¼ì§€ê²Œ ë©ë‹ˆë‹¤. ğŸ¥²

https://github.com/naver/pr-stats
