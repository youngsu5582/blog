---
title: "ì‚¬ìš©í•˜ëŠ” Jacksonì˜ ì„¤ì • ë° ê¸°ëŠ¥ ì •ë¦¬"
author: "ì´ì˜ìˆ˜"
date: 2025-06-16T15:42:27.466Z
tags: [ "Jackson", "Java", "ì§ë ¬í™”", "ì—­ì§ë ¬í™”" ]
description: "Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œ Java ê°ì²´ì˜ ì§ë ¬í™” ë° ì—­ì§ë ¬í™” ë°©ë²•ê³¼ ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©ë²•ì„ ì •ë¦¬í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤."
image:
  path: assets/img/thumbnail/2025-06-16-ì‚¬ìš©í•˜ëŠ”-Jackson-ì„¤ì •ë“¤-ì •ë¦¬.png
---

> í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” Jackson ì–´ë…¸í…Œì´ì…˜ ë° ê¸°ëŠ¥ë“¤ì„ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤.

Java-Spring ê°œë°œìë¼ë©´ Jackson ì„ ëª¨ë¥¼ ìˆ˜ ì—†ë‹¤.
ì•„ë¬´ë¦¬ ì‹œëŒ€ê°€ ë‹¬ë¼ì ¸ë„ ì›¹ ìš”ì²­ì˜ ê·¼ë³¸ì€ JSONì´ê¸° ë•Œë¬¸ì´ë‹¤.<br>
ê·¸ë¦¬ê³  Java ì—ì„œ ì§ë ¬í™”/ì—­ì§ë ¬í™”ëŠ” ìƒê°ë³´ë‹¤ ê¹Œë‹¤ë¡­ë‹¤. (`implements Serializable`,
`byte ë‹¨ìœ„ ë³€í™˜`)

í•˜ì§€ë§Œ, ìŠ¤í”„ë§ì´ ë„ˆë¬´ ì˜ í•´ì£¼ëŠ” ë°”ëŒì— ì§ë ¬í™”ì™€/ì—­ì§ë ¬í™”ì— ëŒ€í•´ í¬ê²Œ ê´€ì‹¬ì„ ê°€ì§€ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¼ì—ë„, Jackson ì€ ë‹¨ìˆœíˆ

```java
var objectmapper = new ObjectMapper();
objectMapper.

writeValueAsString(value);
```

APIë¥¼ ë³´ë‚´ê¸° ìœ„í•´ì„œ, í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•´ì„œ `writeValueAsString` ë§Œ ì“°ê¸°ì—ëŠ” ë§¤ìš° ì•„ì‰¬ìš´, ë§¤ë ¥ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.

ì•„ë˜ëŠ” ì–´ë…¸í…Œì´ì…˜ë“¤ê³¼ Jacksonì„ ë” ê¹Šê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë“¤ì— ëŒ€í•´ ê°„ë‹¨íˆ ë‹¤ë£¨ì–´ë³´ì•˜ë‹¤.

### readValue, convertValue

> ì§ë ¬í™”: Java ê°ì²´ -> JSON ë¬¸ìì—´ ( DBì— JSON ê°’ì„ ë³´ë‚¼ ë•Œ,Java ê°ì²´ë¥¼ HTTP ì‘ë‹µí•  ë•Œ )
> ì—­ì§ë ¬í™”: JSON ë¬¸ìì—´ -> Java ê°ì²´ ( DB ì—ì„œ JSON ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ, HTTP ìš”ì²­ì„ Java ê°ì²´ë¡œ ë³€í™˜í•  ë•Œ )

```java
String json = "{\"name\": \"Alice\", \"age\": 30}";
User user = objectMapper.readValue(json, User.class);

Map<String, Object> map = Map.of("name", "Alice", "age", 30);
User user = objectMapper.convertValue(map, User.class);
```

ì£¼ë¡œ ì´ ë‘ ê°€ì§€ëŠ” í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©í–ˆë‹¤.

readValueëŠ” ì‹¤ì œ ìš”ì²­ ìì²´ë¥¼ ì§ë ¬í™”í•œë‹¤. (URL, InputStream, Byte, String ë“±)

readValueë¥¼ í†µí•´ ENUM ê°’ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°’ì„ ë„£ì„ ë•Œ ì–´ë–»ê²Œ ì—­ì§ë ¬í™”ë˜ëŠ”ì§€ ë“±ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.
( ì¦‰, ì¼ë°˜ì ì¸ ìš°ë¦¬ ìë°” êµ¬ì¡°ë¡œëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìš”ì†Œë“¤ì„ í…ŒìŠ¤íŠ¸ í•  ë•Œ ìš©ì´ )

convertValueëŠ” Java ê°ì²´ë¥¼ ì§ë ¬í™”í•œë‹¤.
ê·¸ë˜ì„œ, ì–´ë…¸í…Œì´ì…˜ì— ë”°ë¼ì„œ ìš°ë¦¬ê°€ ì˜ë„í•œ ëŒ€ë¡œ ì˜ ë‚˜ì˜¤ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤.

### JsonInclude

ì§ë ¬í™” í•  ë•Œ ì–´ë–¤ í•„ë“œë¥¼ í¬í•¨í• ì§€ ì œì–´í•˜ëŠ” ì„¤ì •ì´ë‹¤.

ENUM ìœ¼ë¡œ ë‹¤ì–‘í•œ ì„¤ì •ë“¤ì´ ìˆë‹¤.
(`@JsonInclude(JsonInclude.Include.NON_NULL)`ì™€ ê°™ì´ ì‚¬ìš©)

- NON_NULL : NULL ì¼ ì•„ë‹ë•Œ ì§ë ¬í™”
- NON_EMPTY : ë¹„ì–´ìˆëŠ”ê²Œ ì•„ë‹ë•Œ ì§ë ¬í™” ( null, `""`, ë¹ˆ ë°°ì—´ ë° ì»¬ë ‰ì…˜, absent ê°’ )
- ALWAYS : í•­ìƒ í¬í•¨

```java
// ì´ì œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë ˆê±°ì‹œ ë°ì´í„°
@JsonInclude(JsonInclude.Include.NON_EMPTY)
private List<Map<String, Long>> deprecatedData;

// í˜„ì¬ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë°ì´í„°
private SortedSet<Data> currentData;
```

ì´ì™€ ê°™ì´, DBì— ì¡´ì¬í•˜ëŠ” ê°’ì€ ê°€ì ¸ì˜¤ì§€ë§Œ ì €ì¥í•  ë•ŒëŠ” ê°’ì´ ì €ì¥ë˜ì§€ ì•Šë„ë¡ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
( DB ì—ëŠ” ê°’ì´ í¬í•¨ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì €ì¥ë˜ì§€ ì•ŠìŒ )

```java

@JsonInclude(JsonInclude.Include.NON_NULL)
public class CreditDeductionDto {
	...
}
```

NULL ì¸ ê°’ë“¤ì€ ìë™ìœ¼ë¡œ ì§ë ¬í™”ë˜ì§€ ì•Šê²Œ í•œë‹¤.

### JsonView

ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œì˜ View ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„ë“œì— ì„ ì–¸ëœ View ê°€ ì´ ê¸°ì¤€ì— í¬í•¨ë˜ëŠ”ì§€ ì‚¬ìš©í•œë‹¤.
(`ObjectMapper.writerWithView(View.class)`ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬í•œë‹¤.)

```java
public class DtoView {

  public static class Client {

  }

  public static class Admin {

  }
}

public class RequestDto {

  @JsonView(DtoView.Client.class)
  private String imageUrl;

  @JsonView(DtoView.Admin.class)
  private Client client;
}

@JsonView(DtoView.Admin.class) // â† ì´ê²Œ ê¸°ì¤€ì´ ëœë‹¤
@PostMapping(...)
public ResponseEntity<RequestDto> request(...) {
  return ResponseEntity.ok(dto);
}
```

íŠ¹ì • ì¹¼ëŸ¼ë“¤ì€ ì–´ë“œë¯¼í•œí…Œë§Œ ë³´ì—¬ì¤˜ì•¼ í•  ë•Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
`@JsonView(DtoView.Client.class)`ë¥¼ ì„ ì–¸í•˜ë©´ ClientëŠ” ì—­ì§ë ¬í™”ë˜ì§€ ì•ŠëŠ”ë‹¤.

### JsonIgnoreProperties

í´ë˜ìŠ¤, í•„ë“œ ìˆ˜ì¤€ì—ì„œ JSON ì§ë ¬í™” / ì—­ì§ë ¬í™” ì‹œ íŠ¹ì • í”„ë¡œí¼í‹°ë¥¼ ë¬´ì‹œí•˜ë„ë¡ ì§€ì •

```java

@JsonIgnoreProperties(ignoreUnknown = true)
public class User { ...
}
```

ì•Œ ìˆ˜ ì—†ëŠ” ê°’ë“¤ì€ ë¬´ì‹œí•œë‹¤.

-> ë§¤ìš° ìì£¼ ì‚¬ìš©ëœë‹¤. â­ï¸ (DTOì˜ ë³€í™”ì— ì—„ê²©í•˜ê²Œ ë°˜ì‘í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ. - ìˆ˜ì •ë˜ê±°ë‚˜ ì‚­ì œë˜ê±°ë‚˜, ê¼­ ìˆì–´ë„ ë˜ì§€ ì•ŠëŠ” ë°ì´í„° ë“±)

```java
@JsonIgnoreProperties(allowGetters = true)
@JsonIgnoreProperties(allowSetters = true)
```

- allowGetters: ì½ê¸° ì „ìš©, ì¶œë ¥(ì§ë ¬í™”)ì€ í—ˆìš©í•˜ë‚˜ ì…ë ¥(ì—­ì§ë ¬í™”)ì€ í—ˆìš©í•˜ì§€ ì•ŠìŒ

- allowSetters: ì“°ê¸° ì „ìš©, ì…ë ¥(ì—­ì§ë ¬í™”)ì€ í—ˆìš©í•˜ë‚˜ ì¶œë ¥(ì§ë ¬í™”)ì€ í—ˆìš©í•˜ì§€ ì•ŠìŒ

í•´ë‹¹ ë¶€ë¶„ì€ ë‹¤ì†Œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤. DBì—ì„œ ê°’ì„ ê°€ì ¸ì˜¤ë˜, DBì— ê°’ì€ ì €ì¥ë˜ì§€ ì•Šë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´?

1. ì—­ì§ë ¬í™”ë¥¼ í†µí•´ ê°ì²´ë¥¼ ë§Œë“ ë‹¤.
2. ê°ì²´ë¥¼ JSON ìœ¼ë¡œ ì§ë ¬í™” í•´ HTTP ë¡œ ë°˜í™˜í•œë‹¤.

DBì— ë¹ˆ ê°’ì„ ì €ì¥í•˜ê¸° ì‹«ì–´ì„œ ì§ë ¬í™”ë¥¼ ë§‰ëŠ”ë‹¤ë©´? -> HTTP ë¡œ ì§ë ¬í™” í•  ë•Œë„ í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.

### JsonCreator

JSON ë°ì´í„°ë¥¼ Java ê°ì²´ë¡œ ì—­ì§ë ¬í™” í•  ë•Œ ì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í• ì§€ ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì¤€ë‹¤.

(Jackson ì€ ê¸°ë³¸ì ìœ¼ë¡œ `ê¸°ë³¸ ìƒì„±ì` + setter ë°©ì‹ìœ¼ë¡œ ê°ì²´ë¥¼ ë§Œë“ ë‹¤.)

```java

@JsonCreator
public static ExternalApi fromValueOrUnknown(String value) {
  for (ExternalApi externalApi : ExternalApi.values()) {
    if (externalApi.getAlias().equals(value)) {
      return externalApi;
    }
  }
  return UNKNOWN;
}
```

ENUM ì€ ê¸°ë³¸ì ìœ¼ë¡œ `EnumSerializer / EnumDeserializer` ë¡œ ë™ì‘í•œë‹¤.
(name ê°’ì„ ê·¸ëŒ€ë¡œ ì¶œë ¥ / Enum.valueOf ë¡œ ì°¾ìŒ)

ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

### JsonValue

```java

@JsonValue
public String getAlias() {
  return alias;
}
```

ì§ë ¬í™” í• ë•Œ ì–´ë–¤ ê°’ì„ ì‚¬ìš©í• ì§€ ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì¤€ë‹¤.
ENUM ì˜ ê°’ì„ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë°˜í™˜í•˜ê³  ì‹¶ì„ë•Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

### JsonIgnore

```java

@JsonIgnore
private long privateId;
```

ì§ë ¬,ì—­ì§ë ¬í™”ì— ë¬´ì‹œë  ê°’ì„ ì§€ì •í•œë‹¤.
ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ë˜ê³  ì ˆëŒ€ ë…¸ì¶œë˜ë©´ ì•ˆë˜ëŠ” ê°’ì„ ì§€ì •í•  ë•Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

### JsonFormat

```java

@DateTimeFormat(pattern = "yyyy-MM-dd'T'HH:mm:ss")
@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd'T'HH:mm:ss", timezone = "Asia/Seoul")
private LocalDateTime createdAt;
```

`2025-04-29 00:23:47.930` ì™€ ê°™ì´ DB ì— ì €ì¥ë˜ì–´ ìˆìœ¼ë©´?

- DateTimeFormat : Spring ì œê³µ í¬ë§· ì–´ë…¸í…Œì´ì…˜, MVC ë°”ì¸ë”©í•  ë•Œ ì‚¬ìš©
- JsonFormat : Jackson ì œê³µ ì–´ë…¸í…Œì´ì…˜, íŒ¨í„´ì— ë§ê²Œ ë³€í™˜, íƒ€ì„ì¡´ì„ ì§€ì •í•˜ì—¬ íŠ¹ì • ì‹œê°„ëŒ€ë¡œ ë³€í™˜ ê°€ëŠ¥ ( `"2025-06-16T14:36:36"` ì™€ ê°™ì´
  ë³€í™˜ )

ë‘ê°œë¥¼ ê°™ì´ ì§€ì •í•˜ì—¬, ìŠ¤í”„ë§ ìš”ì²­ìœ¼ë¡œ ì˜¤ë“  JSON ìš”ì²­,ì‘ë‹µìœ¼ë¡œ ì˜¤ë“  ì¼ê´€ë˜ê²Œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤.

### JsonTypeInfo / JsonSubTypes

ë‹¤í˜•ì„± êµ¬ì¡°ë¥¼ Jacksonìœ¼ë¡œ ì§ë ¬í™”/ì—­ì§ë ¬í™” í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.
í”íˆ Java ì˜ ê½ƒì€ Interface ë¼ê³  í•˜ì§€ ì•Šë˜ê°€.
í•˜ì§€ë§Œ Jakcksonì´ ì¸í„°í˜ì´ìŠ¤ì˜ ì •ë³´ë§Œ ìˆìœ¼ë©´ ì–´ë–»ê²Œ ì§ë ¬í™”/ì—­ì§ë ¬í™”ë¥¼ í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.

```java
@JsonTypeInfo(
  use = JsonTypeInfo.Id.NAME,
  include = JsonTypeInfo.As.EXISTING_PROPERTY,
  property = "type",
  visible = true,
  defaultImpl = DefaultOption.class
)
```

- `use = JsonTypeInfo.Id.NAME` : í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì´ë¦„ìœ¼ë¡œ êµ¬ë¶„
- `include = JsonTypeInfo.As.EXISTING_PROPERTY` : ì¡´ì¬í•˜ëŠ” ì†ì„±ì„ í†µí•´ ì¶”ë¡ 
- `property = "type"` : type ì†ì„±ìœ¼ë¡œ ì¶”ë¡ 
- `visible = true` : ì¶”ë¡ í•œ íƒ€ì…ì˜ ê°’ì„ ë³´ì—¬ì¤€ë‹¤ê³  ì„¤ì •
- `defaultImpl` : ì¼ì¹˜í•œ type ì´ ì—†ìœ¼ë©´ ì§€ì •í•˜ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤

```java
@JsonSubTypes({
  @JsonSubTypes.Type(value = AOption.class, name = "a"),
	...
    })
```

-> type ì´ a ë¼ë©´? AOption ìœ¼ë¡œ ì—­ì§ë ¬í™” í•˜ë¼ëŠ” ì˜ë¯¸

### AnnotationIntrospector

Jackson ì€ ì§ë ¬í™”/ì—­ì§ë ¬í™”í•  ë•Œ ìœ„ ìˆ˜ë§ì€ ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì½ì–´ì„œ ê²°ì •í•œë‹¤.
ì´ëŸ° ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì–´ë–»ê²Œ í•´ì„í• ì§€ ì •ì˜í•˜ëŠ”ê²Œ `AnnotationIntroSpector` ì´ë‹¤.

```java
public class CustomAnnotationIntrospector extends NopAnnotationIntrospector {

  @Override
  public Object findSerializer(Annotated annotated) {
    if (annotated.hasAnnotation(CustomAnnotation.class)) {
      return CustomFieldSerializer.class;
    }
    return null;
  }

  @Override
  public Object findDeserializer(Annotated annotated) {
    if (annotated.hasAnnotation(CustomAnnotation.class)) {
      return CustomFieldDeSerializer.class;
    }
    return null;
  }
}
```

ìš°ë¦¬ê°€ ë§Œë“  ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ê³  ì§ë ¬/ì—­ì§ë ¬í™”ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤.

```java
ObjectMapper mapper = new ObjectMapper();

AnnotationIntrospector pair = AnnotationIntrospector.pair(
  new JacksonAnnotationIntrospector(),
  new CustomAnnotationIntrospector());

mapper.

setAnnotationIntrospector(pair);
```

ê·¸ í›„, ì–´ë…¸í…Œì´ì…˜ í˜ì–´ë¡œ í•˜ë‚˜ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤.

```java
public class CustomAnnotationIntrospector extends NopAnnotationIntrospector {

  private static final JacksonAnnotationIntrospector DELEGATOR = new JacksonAnnotationIntrospector();

	...

  @Override
  public List<NamedType> findSubtypes(Annotated a) {
    return INTROSPECTOR.findSubtypes(a);
  }
```

ì´ëŸ°ì‹ìœ¼ë¡œ ìœ„ì„ìë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ê²ƒë§Œ ì˜¤ë²„ë¼ì´ë”© í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì§€ì •í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

ì§ë ¬, ì—­ì§ë ¬í™” í•  ë•Œ JsonValue ë¥¼ ë¬´ì‹œí•˜ê²Œ
( NopAnnotationIntrospector ëŠ” ë§ê·¸ëŒ€ë¡œ ì •ë§ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ )

---

ì‚¬ì‹¤, í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ì§ë ¬í™”/ì—­ì§ë ¬í™” ë§ˆìŠ¤í„°ê°€ ë˜ì–´ê°€ëŠ” ê²ƒ ê°™ë‹¤ ã…‹ã…‹

- DB ì— JSON ìœ¼ë¡œ ì €ì¥ / ì½ê¸°
- Redis ì— JSON ì €ì¥ / ì½ê¸°
- ë©”ì‹œì§• íì— ë©”ì‹œì§€ ë°œí–‰
- ì›¹ ìš”ì²­ / ì‘ë‹µ

ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì˜ ëª¨ë¥´ë‹¤ë©´, ì‘ë‹µ ë° ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½”ë“œê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œì— ë•ì§€ë•ì§€ ë¶™ê±°ë‚˜ ë°ì´í„° ì„¤ê³„ì— ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
ê°€ë³ê²Œë‚˜ë§ˆ ì•Œì•„ë‘ë©´ ì¢‹ì„ ë“¯ ğŸ™‚

ë‚˜ì¤‘ì— í˜¹ì‹œë‚˜ ë” ì‚¬ìš©í•˜ëŠ” ìš”ì†Œë“¤ì´ ìˆìœ¼ë©´ ì¡°ê¸ˆì”© ì¶”ê°€í•´ë‚˜ê°€ì•¼ê² ë‹¤.
