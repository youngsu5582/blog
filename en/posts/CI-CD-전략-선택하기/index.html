<!doctype html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="CI &amp; CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )" /><meta name="author" content="이영수" /><meta property="og:locale" content="ko" /><meta name="description" content="CI &amp; CD 의 전략, CodePipeline 사용" /><meta property="og:description" content="CI &amp; CD 의 전략, CodePipeline 사용" /><link rel="canonical" href="https://youngsu5582.life//posts/CI-CD-%EC%A0%84%EB%9E%B5-%EC%84%A0%ED%83%9D%ED%95%98%EA%B8%B0/" /><meta property="og:url" content="https://youngsu5582.life//posts/CI-CD-%EC%A0%84%EB%9E%B5-%EC%84%A0%ED%83%9D%ED%95%98%EA%B8%B0/" /><meta property="og:site_name" content="이영수 개발 블로그" /><meta property="og:image" content="https://velog.velcdn.com/images/dragonsu/post/4ebc136c-d384-44b5-8bcc-ed82a36bd382/image.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-07-27T16:49:55+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://velog.velcdn.com/images/dragonsu/post/4ebc136c-d384-44b5-8bcc-ed82a36bd382/image.png" /><meta property="twitter:title" content="CI &amp; CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"이영수"},"dateModified":"2024-07-27T16:49:55+09:00","datePublished":"2024-07-27T16:49:55+09:00","description":"CI &amp; CD 의 전략, CodePipeline 사용","headline":"CI &amp; CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )","image":"https://velog.velcdn.com/images/dragonsu/post/4ebc136c-d384-44b5-8bcc-ed82a36bd382/image.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://youngsu5582.life//posts/CI-CD-%EC%A0%84%EB%9E%B5-%EC%84%A0%ED%83%9D%ED%95%98%EA%B8%B0/"},"url":"https://youngsu5582.life//posts/CI-CD-%EC%A0%84%EB%9E%B5-%EC%84%A0%ED%83%9D%ED%95%98%EA%B8%B0/"}</script><title>CI & CD 전략 선택하기 ( 부제 : CodePipeline 사용기 ) | 이영수 개발 블로그</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="이영수 개발 블로그"><meta name="application-name" content="이영수 개발 블로그"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GDSPGC31HX"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-GDSPGC31HX'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/en/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/en/">이영수 개발 블로그</a><p class="site-subtitle fst-italic mb-0">Learning Kata</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/en/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/en/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/en/articles/" class="nav-link"> <i class="fa-fw "></i> <span>ARTICLES</span> </a><li class="nav-item"> <a href="/en/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/youngsu5582" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['joyson5582','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/en/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/%EC%98%81%EC%88%98-%EC%9D%B4-b78498347/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://www.rallit.com/hub/resumes/988543/%EC%9D%B4%EC%98%81%EC%88%98" aria-label="resume" target="_blank" rel="noopener noreferrer" > <i class="fas fa-file-alt"></i> </a> <a href="https://comet-pram-809.notion.site/185365707b6580859ec5ec052f2f6730" aria-label="portfolio" target="_blank" rel="noopener noreferrer" > <i class="fas fa-laptop-code"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/en/">Home</a> </span> <span>CI & CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button><style> .language-switcher { display: flex; gap: 10px; list-style: none; margin: 0; padding: 0; } .language-switcher li a { padding: 5px 10px; border: 1px solid #ccc; border-radius: 5px; text-decoration: none; color: #333; background-color: #f0f0f0; } .language-switcher li a:hover { background-color: #e0e0e0; } .language-switcher li .active-lang { /* 현재 활성화된 언어 텍스트 스타일 */ padding: 5px 10px; border: 1px solid #007bff; border-radius: 5px; color: white; background-color: #007bff; cursor: default; }</style><ul class="language-switcher"><li> <a href="https://youngsu5582.life/">한국어</a><li> <span class="active-lang">English</span></ul><search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>CI & CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )</h1><p class="post-desc fw-light mb-4">CI & CD 의 전략, CodePipeline 사용</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1722066595" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 27, 2024 </time> </span><div class="mt-3 mb-3"> <a href="https://velog.velcdn.com/images/dragonsu/post/4ebc136c-d384-44b5-8bcc-ed82a36bd382/image.png" class="popup img-link preview-img shimmer"><img src="https://velog.velcdn.com/images/dragonsu/post/4ebc136c-d384-44b5-8bcc-ed82a36bd382/image.png" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3546 words" > <em>19 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">CI & CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">CI & CD 전략 선택하기 ( 부제 : CodePipeline 사용기 )</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog> <br><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%EC%9D%B8%ED%94%84%EB%9D%BC/">인프라</a>, <a href="/categories/ci-cd/">CI/CD</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ci-cd/" class="post-tag no-text-decoration" >CI/CD</a> <a href="/tags/codepipeline/" class="post-tag no-text-decoration" >CodePipeline</a> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/" class="post-tag no-text-decoration" >우테코</a></div><div class="content"><p>이번 내용은 우테코 프로젝트 내에서 배포를 진행하며 알게 된 인프라 및 구현 &amp; 사용 방법에 대해 작성하려고 한다. <code class="language-plaintext highlighter-rouge">joyson5582@gmail.com</code> 이나 댓글로 궁금함이나 의견을 나타내면 최선을 다해 설명하겠습니다.</p><p>일반적으로 코드 배포를 위해선 다양한 방법들이 존재한다. 이 다양한 방법들에 대해 소개하기에 앞서 CI &amp; CD 가 무엇인지 간략하게 그리고 흐름이 어떻게 동작하는지에 대해서 알아보자.</p><h3 id="ci"><span class="me-2">CI</span><a href="#ci" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Continuous Integration ( 지속적 통합 )<li>새로운 코드 변경 사항을 빌드 및 테스트하여 기존 코드에 통합시키는 것이다.<h3 id="cd"><span class="me-2">CD</span><a href="#cd" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><li>Continuous Delivery or Deploy ( 지속적 배달 or 배포 )<li>변경된 코드를 기반으로 자동으로 코드를 새로 배포한다.</ul><p>매우 명확하고 간단한 설명이다. 그러면, 이들의 흐름은 어떻게 될까?</p><h3 id="흐름"><span class="me-2">흐름</span><a href="#흐름" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>코드 변경을 감지해서 CI 가 동작한다.<li>CI 가 통과하면 기존 코드에 통합이 되고, 통합된 코드를 기반으로 빌드를 한다.<li>빌드된 결과물을 저장한다.<li>빌드된 결과물을 기반으로 CD 가 동작한다.<li>CD에 명세된 대로 서버를 동작시킨다.</ol><p>단순히 순서만 보면 헷갈릴 수 있는데 말로 풀어쓰면 명확하다.</p><p>변경된 코드가 괜찮은가? -&gt; 코드를 통합하고 빌드한다 ( CI ) 빌드가 성공적으로 됐는가? -&gt; 빌드 파일로 서버를 배포한다 ( CD )</p><p>아래에 있는 모든 방법들은 해당 틀에서 벗어나지 않는다.</p><p>그러면 다양한 방법들에 대해 보겠다.</p><h2 id="ci-1"><span class="me-2">CI</span><a href="#ci-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="docker-hub"><span class="me-2">Docker Hub</span><a href="#docker-hub" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c"># Build Gradle</span>
      - name: Build Gradle
        run: |
          <span class="nb">chmod</span> +x ./gradlew
          ./gradlew <span class="nb">test
        </span>shell: bash

<span class="c"># Docker 이미지 build 및 push</span>
      - name: docker build and push
        run: |
          docker login <span class="nt">-u</span> <span class="nv">$ </span><span class="nt">-p</span> <span class="err">$</span>
          docker build <span class="nt">-t</span> corea/backend:latest ./backend
          docker push corea/backend:latest
          docker push corea/backend:latest

</pre></table></code></div></div><p>흐름에서 2번과 3번이다. 매우 간단하다.</p><p>Docker hub 에 로그인 -&gt; 빌드된 결과를 기반으로 이미지 빌드 -&gt; 이미지 Push</p><ul><li>장점 : 도커가 깔려있다면, 서버도 다른 프로그램 설치 필요 없이 의도대로 동작한다. ( 자바 설치, DB 설치 등등 )<h3 id="github-action--zip"><span class="me-2">Github Action + ZIP</span><a href="#github-action--zip" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></ul><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c1"># Build Gradle</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build Gradle</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">chmod +x ./gradlew</span>
          <span class="s">./gradlew test</span>
        <span class="na">shell</span><span class="pi">:</span> <span class="s">bash</span>

<span class="c1"># 빌드 파일 압축</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Create deploy package</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">mkdir -p scripts</span>
          <span class="s">zip -r deployment-package.zip build/libs/corea-backend.jar</span>
</pre></table></code></div></div><p>이 역시도 CI의 과정이라 할 수 있다. 빌드된 결과물을 압축해서 Github Action에서 저장하므로 2번과 3번이라 할 수 있다.</p><h3 id="codebuild"><span class="me-2">CodeBuild</span><a href="#codebuild" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>AWS 인프라가 제공해주는 빌드 시스템이다. 나는 이 CodeBuild 를 사용했고, 자세히 설명하겠다.</p><p><a href="https://i.imgur.com/lHKM5yc.png" class="popup img-link shimmer"><img src="https://i.imgur.com/lHKM5yc.png" alt="450" loading="lazy"></a></p><p>Github Repository 내 소스 버전(브랜치)를 기반으로 빌드를 한다.</p><ul><li>Git clone 깊이 : 이력을 어디까지 받을지 지정 -&gt; 빌드에는 전체 이력( Commit Log ) 이 필요없다. 일반적으로 1이면 충분 ( 빌드 내에서 5개 전 커밋 이력이 필요한가? )<li>Git 하위 모듈 : SubModule 을 포함시킬 지 여부이다. 나머지는 당장 중요하지 않다고 생각</ul><p><a href="https://i.imgur.com/xj3bvcx.png" class="popup img-link shimmer"><img src="https://i.imgur.com/xj3bvcx.png" alt="450" loading="lazy"></a></p><p>빌드 하는 컴퓨터에 대해서 정의하는 부분이다. 운영체제, 이미지를 선택 ( 이미지의 버전 선택 ) 을 선택한다.</p><ul><li>추가 구성으로, 컴퓨팅의 사양을 올릴수도 있다.</ul><p>빌드용으로 만든 도커 이미지가 있다면 그것 역시 사용 가능하다. ( Docker Hub 에 올린 Image )</p><p>소스 코드 내 <code class="language-plaintext highlighter-rouge">buildspec.yml</code> 에 있는 내용을 기반으로 파일을 빌드해준다. ( AWS CodeBuild 내부에서도 관리 가능 )</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s">0.2</span>  
  
<span class="na">phases</span><span class="pi">:</span>  
  <span class="na">build</span><span class="pi">:</span>  
    <span class="na">commands</span><span class="pi">:</span>  
      <span class="pi">-</span> <span class="s">echo Build Starting on `date`</span>  
      <span class="pi">-</span> <span class="s">cd backend</span>  
      <span class="pi">-</span> <span class="s">chmod +x ./gradlew</span>  
      <span class="pi">-</span> <span class="s">./gradlew build</span>  
  
<span class="na">cache</span><span class="pi">:</span>  
  <span class="na">paths</span><span class="pi">:</span>  
    <span class="pi">-</span> <span class="s1">'</span><span class="s">/root/.gradle/caches/**/*'</span>  
  
<span class="na">artifacts</span><span class="pi">:</span>  
  <span class="na">files</span><span class="pi">:</span>  
    <span class="pi">-</span> <span class="s1">'</span><span class="s">appspec.yml'</span>  
    <span class="pi">-</span> <span class="s1">'</span><span class="s">build/libs/backend-0.0.1-SNAPSHOT.jar'</span>  
    <span class="pi">-</span> <span class="s1">'</span><span class="s">scripts/**'</span>  
  <span class="na">base-directory</span><span class="pi">:</span> <span class="s">backend</span>
</pre></table></code></div></div><p>build 할 때 commands 를 지정한다. (phases 에는 install 이나 pre_build 같은것도 존재 하나 당장 불필요 )</p><p>root/.gradle/cahces 에 있는 모든 경로&amp;파일들을 캐시로 저장 -&gt; 다음 빌드는 이전 빌드에 저장된 캐시를 복원한다.</p><p>artifacts-files 를 통해 빌드할 파일들을 포함한다. ( base-directort 를 통해 기본 디렉토리 )</p><p>위에 지정한 파일들을 어디에 저장할지 지정한다. <code class="language-plaintext highlighter-rouge">2024-artifacts</code> 버킷 내 2024-corea/corea-backend-deployment 파일명으로 압축으로 저장이 된다. ( 폴더로 저장해도 상관없으나 차후 Code Deploy 시 압축 파일이 필요로 한다. )</p><p><a href="https://i.imgur.com/JAWwk9q.png" class="popup img-link shimmer"><img src="https://i.imgur.com/JAWwk9q.png" alt="450" loading="lazy"></a></p><p>빌드 출력 로그는 왠만하면 사용하자. 업로드 안하면 빌드 진행 중이나 실패한 이유를 볼 수가 없다.</p><h4 id="결과"><span class="me-2">결과</span><a href="#결과" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="https://i.imgur.com/Z3DP3XO.png" class="popup img-link shimmer"><img src="https://i.imgur.com/Z3DP3XO.png" alt="450" loading="lazy"></a></p><p>결과를 출력해주고</p><p><a href="https://i.imgur.com/SiLIusu.png" class="popup img-link shimmer"><img src="https://i.imgur.com/SiLIusu.png" alt="450" loading="lazy"></a></p><p>보고서도 보여준다.</p><h2 id="cd-1"><span class="me-2">CD</span><a href="#cd-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="self-hosted-runner"><span class="me-2">Self Hosted Runner</span><a href="#self-hosted-runner" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="na">deploy</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">self-hosted</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Pull Docker image from DockerHub</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">docker pull $/$:$</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run Docker container</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">docker run -d --name backend-application -p 8080:8080 $/corea/backend:latest</span>
        
</pre></table></code></div></div><p>이렇게 하면? Docker Image 를 Pull 받고 서버에서 배포를 실행을 한다. 서버에 대한 명시가 없는 이유는 self-hosted runner 스스로가 명령어를 실행하기 때문이다.</p><p><a href="https://i.imgur.com/WijXs8l.png" class="popup img-link shimmer"><img src="https://i.imgur.com/WijXs8l.png" alt="450" loading="lazy"></a></p><p>EC2에 직접 접속해서 해당 명령어를 실행하면 인스턴스가 직접 깃허브 액션을 수행한다.</p><p>이떄의 단점이라면?</p><ul><li>결국 주기적으로 통신해 새로운 작업이 있는지 확인한다 - Polling 방식<li>HTTPS 를 통해 통신, 443 포트 이용해 작업<li>결국 자신이 직접 run 시키므로, 리소스 낭비가 될 수 있다. 등이 있다.</ul><blockquote><p>우테코 프로젝트 사람들은 대부분 self-hosted runner 를 사용했는데 AWS Secret Key 가 없어서 Credentials 를 통해 할 수 없어서 self-hosted runner 로 이렇게 동작을 시켰다.</p></blockquote><blockquote><p>사실, 해당 부분에서 Docker 가 필수적이라고 생각할 수 있는데 빌드된 파일을 EC2 내부까지 옮길수만 있다면 크게 상관 없다. ( S3 등등 )</p></blockquote><h3 id="ssh-action"><span class="me-2">ssh-action</span><a href="#ssh-action" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nn">...</span>

<span class="err">	</span><span class="na">uses</span><span class="pi">:</span> <span class="s">appleboy/ssh-action@master</span>
<span class="na">	with</span><span class="pi">:</span>
<span class="err">	</span>  <span class="na">host</span><span class="pi">:</span> <span class="s">$</span>
<span class="na">	  username</span><span class="pi">:</span> <span class="s">$</span>
<span class="na">	  key</span><span class="pi">:</span> <span class="s">$</span>
<span class="na">	  port</span><span class="pi">:</span> <span class="s">$</span>
<span class="na">	  script</span><span class="pi">:</span> <span class="pi">|</span>
<span class="err">	</span><span class="s">		...</span>
<span class="err">	</span><span class="s">		docker run -d --name backend-application -p 8080:8080 $/corea/backend:latest</span>
<span class="err">	</span><span class="s">		</span>
</pre></table></code></div></div><p>서버에 SSH 연결을 통해 명시한 스크립트를 실행해서 배포한다. self-hosted runner 와 비슷하다고 생각할 수 있으나</p><ul><li>ssh-action : 우리가 직접 접속해서 실행<li>self-hosted runner : 변화를 Polling 해서 서버가 자체적으로 실행</ul><p>의 차이가 있다.</p><blockquote><p>우테코 프로젝트는 SSH 연결이 막혀있어서 해당 방식 불가능</p></blockquote><blockquote><p>위와 똑같이 Docker 가 중요한게 아닌, 서버 접속해 직접 실행한다는게 중요하다</p></blockquote><h3 id="aws-credentials--s3--code-deploy"><span class="me-2">AWS Credentials + S3 + Code Deploy</span><a href="#aws-credentials--s3--code-deploy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nn">...</span>
<span class="err">	</span><span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Configure AWS credentials</span>
<span class="na">	uses</span><span class="pi">:</span> <span class="s">aws-actions/configure-aws-credentials@v4</span>
<span class="na">	with</span><span class="pi">:</span>
<span class="err">	</span>  <span class="na">aws-access-key-id</span><span class="pi">:</span> <span class="s">$</span>
<span class="na">	  aws-secret-access-key</span><span class="pi">:</span> <span class="s">$</span>
<span class="na">	  aws-region</span><span class="pi">:</span> <span class="s">$</span>
	
<span class="err">	</span><span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Upload to S3</span>
<span class="na">	run</span><span class="pi">:</span> <span class="pi">|</span>
<span class="err">	</span><span class="s">  aws s3 cp deployment-package.zip s3://$/deployment-package.zip</span>
<span class="err">	</span>
<span class="err">	</span><span class="s">- name: Deploy to CodeDeploy</span>
<span class="err">	</span><span class="s">run: |</span>
<span class="err">	</span><span class="s">  aws deploy create-deployment \</span>
<span class="err">	</span><span class="s">	--application-name $ \</span>
<span class="err">	</span><span class="s">	--deployment-group-name $ \</span>
<span class="err">	</span><span class="s">	--s3-location bucket=$,key=deployment-package.zip,bundleType=zip</span>
</pre></table></code></div></div><p>아마존 credentials 로 직접 인증 받아서 빌드 업로드 + 업로드 파일 기반 배포를 진행한다.</p><blockquote><p>우테코 프로젝트는 Secret Key를 발급 못 받아서 인증 불가능</p></blockquote><h3 id="code-deploy"><span class="me-2">Code Deploy</span><a href="#code-deploy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>AWS 인프라가 제공해주는 배포 시스템이다. Build 와 똑같이 이를 사용했으니, 자세히 설명한다.</p><p>애플리케이션에서 본인이 배포할 컴퓨팅 플랫폼에 대해서 정한다. ( EC2/온프레미스, AWS Lambda, ECS ) 그후, 배포 그룹을 생성한다. - 이때 그룹에 따라서 개발용 / 운영용 등 분리 가능</p><p><a href="https://i.imgur.com/Oluc4ud.png" class="popup img-link shimmer"><img src="https://i.imgur.com/Oluc4ud.png" alt="450" loading="lazy"></a></p><p>현재 배포 전략에 대해선 중요하지 않고, Auto Scaling / Load Balancer 역시 중요하지 않다. -&gt; 개발 서버 온전히 구동만 하면 OK</p><p>태그의 Key 값을 통해 인스턴스를 명시한다.</p><p><a href="https://i.imgur.com/rp9zlPo.png" class="popup img-link shimmer"><img src="https://i.imgur.com/rp9zlPo.png" alt="450" loading="lazy"></a></p><p>이때 에이전트를 구성할거냐고 묻는데 몹시몹시 중요하다!! 중요한 이유는 배포 생성까지 끝내고 설명한다.</p><p><a href="https://i.imgur.com/qJV1tuL.png" class="popup img-link shimmer"><img src="https://i.imgur.com/qJV1tuL.png" alt="350" loading="lazy"></a></p><p>그룹을 생성하면 배포를 생성한다. 배포 그룹 지정 + 저장된 S3 파일을 지정한다.</p><p>에이전트가 설치되어 있지 않으면 EC2 는 파일 전송을 받지 못하고</p><p><a href="https://i.imgur.com/hVDvQxi.png" class="popup img-link shimmer"><img src="https://i.imgur.com/hVDvQxi.png" alt="" loading="lazy"></a></p><p>이렇게 <code class="language-plaintext highlighter-rouge">not able to receive the lifecycle event.</code> 를 발생시킨다. 해당 에러가 뜨면 Code Deploy Agent 가 작동하는지 확인해보자.</p><h4 id="서비스-동작-확인"><span class="me-2">서비스 동작 확인</span><a href="#서비스-동작-확인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sudo service codedeploy-agent status
</pre></table></code></div></div><p>동작했는데 아예 없다면?</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c">#!/usr/bin/env bash</span>

<span class="nb">sudo </span>apt-get update <span class="nt">-y</span>
<span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="nt">-y</span> ruby
<span class="nb">cd</span> /home/ubuntu
wget https://aws-codedeploy-ap-northeast-2.s3.amazonaws.com/latest/install
<span class="nb">chmod</span> +x ./install
<span class="nb">sudo</span> ./install auto
</pre></table></code></div></div><p>를 통해 설치하자.</p><h4 id="서비스-동작-권한-부족"><span class="me-2">서비스 동작 권한 부족</span><a href="#서비스-동작-권한-부족" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>설치하고 배포를 재 실행했는데 위와 같이 실패가 또 뜬다면?</p><p><code class="language-plaintext highlighter-rouge">cat /var/log/aws/codedeploy-agent/codedeploy-agent.log</code> 를 통해 로그를 보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>InstanceAgent::Plugins::CodeDeployPlugin::CommandPoller: Missing credentials
- please check if this instance was started with an IAM instance profile
</pre></table></code></div></div><p>해당 로그가 뜨면 EC2 IAM 이 CodeDeploy 를 수행할 권한이 있는지 확인하자. -&gt; 권한을 부여했는데 안된다면?</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sudo service codedeploy-agent restart
</pre></table></code></div></div><p>로 재시작후 다시 확인해보자</p><p><a href="https://i.imgur.com/5iXZMm7.png" class="popup img-link shimmer"><img src="https://i.imgur.com/5iXZMm7.png" alt="400" loading="lazy"></a></p><p>이렇게 성공하면 끝이다.</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s">0.0</span>  
<span class="na">os</span><span class="pi">:</span> <span class="s">linux</span>  
<span class="na">files</span><span class="pi">:</span>  
  <span class="pi">-</span> <span class="na">source</span><span class="pi">:</span> <span class="s">/build/libs</span>  
    <span class="na">destination</span><span class="pi">:</span> <span class="s">/home/ubuntu/build</span>  
  
  <span class="pi">-</span> <span class="na">source</span><span class="pi">:</span> <span class="s">/scripts</span>  
    <span class="na">destination</span><span class="pi">:</span> <span class="s">/home/ubuntu/scripts</span>  
  
  <span class="pi">-</span> <span class="na">source</span><span class="pi">:</span> <span class="s">appspec.yml</span>  
    <span class="na">destination</span><span class="pi">:</span> <span class="s">/home/ubuntu/build</span>  
  
  
<span class="na">permissions</span><span class="pi">:</span>  
  <span class="pi">-</span> <span class="na">object</span><span class="pi">:</span> <span class="s">/</span>  
    <span class="na">pattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">**"</span>  
    <span class="na">owner</span><span class="pi">:</span> <span class="s">ubuntu</span>  
  
<span class="na">hooks</span><span class="pi">:</span>  
  <span class="na">ApplicationStart</span><span class="pi">:</span>  
    <span class="pi">-</span> <span class="na">location</span><span class="pi">:</span> <span class="s">scripts/deploy.sh</span>  
      <span class="na">timeout</span><span class="pi">:</span> <span class="s">60</span>  
      <span class="na">runas</span><span class="pi">:</span> <span class="s">ubuntu</span>  
        
  <span class="na">ValidateService</span><span class="pi">:</span>  
    <span class="pi">-</span> <span class="na">location</span><span class="pi">:</span> <span class="s">scripts/healthCheck.sh</span>  
      <span class="na">timeout</span><span class="pi">:</span> <span class="s">30</span>  
      <span class="na">runas</span><span class="pi">:</span> <span class="s">ubuntu</span>
</pre></table></code></div></div><p>CodeBuild 와 유사하게 <code class="language-plaintext highlighter-rouge">appspec.yml</code> 에 있는 내용을 기반으로 서버를 배포한다.</p><p>파일을 저장시킬 곳을 지정하고, 파일들에 권한을 주고 각 hooks 마다 실행할 스크립트들을 지정한다.</p><p>이때 EC2 에는 우리가 직접 자바 등을 설치해줘야 한다.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>1. 자바 설치
wget https://download.oracle.com/java/17/archive/jdk-17.0.11_linux-aarch64_bin.tar.gz <span class="nt">-O</span> /tmp/openjdk-17_linux-x64_bin.tar.gz

2. 압축 해제
<span class="nb">sudo tar </span>xfvz /tmp/openjdk-17_linux-x64_bin.tar.gz <span class="nt">--directory</span> /usr/lib/jvm

3. 자바 압축 파일 삭제

<span class="nb">rm</span> <span class="nt">-f</span> /tmp/openjdk-17_linux-x64_bin.tar.gz

<span class="nb">sudo </span>update-alternatives <span class="nt">--install</span> /usr/bin/java java /usr/lib/jvm/jdk-17.0.11/bin/java 100

4. 자바 설정
<span class="nb">sudo </span>update-alternatives <span class="nt">--set</span> java /usr/lib/jvm/jdk-17.0.11/bin/java

5. 자바 환경 변수 설정

<span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/jdk-17.0.11
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/lib/jvm/jdk-17.0.11/bin
</pre></table></code></div></div><p>서버를 8080에 연다면?</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>iptables <span class="nt">-t</span> nat <span class="nt">-A</span> PREROUTING <span class="nt">-p</span> tcp <span class="nt">--dport</span> 80 <span class="nt">-j</span> REDIRECT <span class="nt">--to-port</span> 8080
</pre></table></code></div></div><p>IP 포트포워딩도 진행하자</p><p>이렇게 CodeDeploy 를 활용해 배포가 끝이났다.</p><h2 id="code-pipeline"><span class="me-2">Code Pipeline</span><a href="#code-pipeline" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>코드 파이프라인은 CodeBuild 와 CodeDeploy 를 합쳐놓은 것으로 정말 무중단 배포가 가능하게 해주는 인프라다.</p><h3 id="파이프라인-설정"><span class="me-2">파이프라인 설정</span><a href="#파이프라인-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://i.imgur.com/34V3d0E.png" class="popup img-link shimmer"><img src="https://i.imgur.com/34V3d0E.png" alt="400" loading="lazy"></a></p><p>대기를 할 시, 코드 커밋이 계속 일어날 시 차례대로 배포를 진행한다. ( 1.0.0 진행 -&gt; 1.0.1 진행 ) 추가로, 밑에 고급 설정에서 아티팩트 스토어에서 기존 버킷을 지정할 수 있다. ( 기본 위치시 자동으로 버킷 생성 )</p><h3 id="소스-스테이지"><span class="me-2">소스 스테이지</span><a href="#소스-스테이지" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://i.imgur.com/WwcyUGn.png" class="popup img-link shimmer"><img src="https://i.imgur.com/WwcyUGn.png" alt="400" loading="lazy"></a></p><p>WebHook 을 통해 Github 가 자신의 변경을 AWS CodePipeline 에게 알려준다. -&gt; 이를 기반으로 파이프라인이 동작한다.</p><h3 id="빌드-스테이지"><span class="me-2">빌드 스테이지</span><a href="#빌드-스테이지" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://i.imgur.com/7UbhMFq.png" class="popup img-link shimmer"><img src="https://i.imgur.com/7UbhMFq.png" alt="400" loading="lazy"></a></p><p>생성된 빌드를 재사용 가능하다.</p><h3 id="배포-스테이지"><span class="me-2">배포 스테이지</span><a href="#배포-스테이지" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://i.imgur.com/HAObp2n.png" class="popup img-link shimmer"><img src="https://i.imgur.com/HAObp2n.png" alt="400" loading="lazy"></a></p><p>역시 배포 &amp; 배포 그룹 재사용 가능하다</p><p><a href="https://i.imgur.com/xGrCcXH.png" class="popup img-link shimmer"><img src="https://i.imgur.com/xGrCcXH.png" alt="400" loading="lazy"></a></p><p>이때 세부 정보들을 보면</p><p>Source 는 출력으로 <code class="language-plaintext highlighter-rouge">SourceArtifact</code> -&gt; Build 는 입력으로 <code class="language-plaintext highlighter-rouge">SourceArtifact</code> -&gt; <code class="language-plaintext highlighter-rouge">BuildArtfiact</code> Deploy 는 입력으로 <code class="language-plaintext highlighter-rouge">BuildArtifact</code> 가 들어오고 배포를 하며 끝이난다.</p><p>이때 버킷을 들어가보면?</p><p><a href="https://i.imgur.com/K0v0jDP.png" class="popup img-link shimmer"><img src="https://i.imgur.com/K0v0jDP.png" alt="450" loading="lazy"></a></p><p>이렇게 스스로 폴더 + Build/SourceArtifact 를 만든다. ( 내부에도, 소스 아티팩트와 빌드된 결과물 존재 )</p><p>=&gt; 이 결과 우리는 소스를 Github 에 Push 하면 배포가 자동으로 이루어진다. ( Github Action 에 의존적이지 않음 )</p><h2 id="마무리"><span class="me-2">마무리</span><a href="#마무리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>이 밖에도 수많은 CI 방법과 CD 방법이 존재할 것이다.</p><ul><li>각자의 팀에 적용할 수 있는지<li>AWS 인프라에 의존을 해도 상관이 없는지<li>빌드된 결과물을 어떻게 관리할지<li>서버에 배포를 얼마나 편리하게 할지 ( 로드 밸런싱, 오토 스케일링, 블루-그린 전략 )</ul><p>이런 내용들을 생각하며 각자 팀에 맞는 CI / CD 를 수립하는게 좋은거 같다.</p><p>우리 팀은 AWS SecretKey 가 없으나 AWS 인프라를 사용해야 하는 점 + Self-Hosted Runner 를 사용하기 싫은점 때문에 AWS 에 완벽하게 의존을 하는 CodePipeline 을 사용하기로 했다.</p><p>이때, 배포가 성공/실패 했는지 또는 배포된 주소로 바로 들어가기 위해선 <code class="language-plaintext highlighter-rouge">AWS Chatbot</code> 이나 <code class="language-plaintext highlighter-rouge">AWS CloudWatch + AWS Lambda + Slack Webhook</code> 을 통해서 가능하다고 하다. 이는 차차 도입해볼 예정</p><p>그리고, CI-CD 가 무조건 하나로 이어질 필요는 없다.</p><p>내가 CodeBuild 를 굳이 사용할 필요가 없다고 판단해 Github Action 에서 직접 빌드하고 파일을 전달하는 것도 가능하다.</p><p>CodeBuild는 사용하더라도 CodeDeploy 를 쓰지않고 우리가 빌드된 파일로 직접 실행해도 괜찮지 않을까?</p><p>빌드가 되었다고, 꼭 배포가 자동으로 될 필요는 없을수도 있을테니까.</p><p>https://github.com/woowacourse-teams/2024-corea 해당 프로젝트에 도입했으며 다시 한번, 부족한 지식이 포함되어 있는 글이기에 댓글은 언제나 환영한다.</p><h3 id="참고"><span class="me-2">참고</span><a href="#참고" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>https://jojoldu.tistory.com/282 https://github.com/jaeyeonling/reaction-game/tree/main</p></div><div class="post-tail-wrapper text-muted"><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=CI%20&%20CD%20%EC%A0%84%EB%9E%B5%20%EC%84%A0%ED%83%9D%ED%95%98%EA%B8%B0%20(%20%EB%B6%80%EC%A0%9C%20:%20CodePipeline%20%EC%82%AC%EC%9A%A9%EA%B8%B0%20)%20-%20%EC%9D%B4%EC%98%81%EC%88%98%20%EA%B0%9C%EB%B0%9C%20%EB%B8%94%EB%A1%9C%EA%B7%B8&url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2FCI-CD-%25EC%25A0%2584%25EB%259E%25B5-%25EC%2584%25A0%25ED%2583%259D%25ED%2595%2598%25EA%25B8%25B0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2FCI-CD-%25EC%25A0%2584%25EB%259E%25B5-%25EC%2584%25A0%25ED%2583%259D%25ED%2595%2598%25EA%25B8%25B0%2F&text=CI%20&%20CD%20%EC%A0%84%EB%9E%B5%20%EC%84%A0%ED%83%9D%ED%95%98%EA%B8%B0%20(%20%EB%B6%80%EC%A0%9C%20:%20CodePipeline%20%EC%82%AC%EC%9A%A9%EA%B8%B0%20)%20-%20%EC%9D%B4%EC%98%81%EC%88%98%20%EA%B0%9C%EB%B0%9C%20%EB%B8%94%EB%A1%9C%EA%B7%B8" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2FCI-CD-%25EC%25A0%2584%25EB%259E%25B5-%25EC%2584%25A0%25ED%2583%259D%25ED%2595%2598%25EA%25B8%25B0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/en/posts/ai-tech-usage-summary-thoughts/">Summary of How to Use AI Technology Video and My Thoughts - 2025-08-20</a><li class="text-truncate lh-lg"> <a href="/en/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-Jackson-%EC%84%A4%EC%A0%95%EB%93%A4-%EC%A0%95%EB%A6%AC/">사용하는 Jackson의 설정 및 기능 정리 - 2025-06-17</a><li class="text-truncate lh-lg"> <a href="/en/posts/%EC%98%88%EC%99%B8-%EA%B9%8A%EA%B2%8C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0-%EC%98%88%EC%99%B8-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%8D%98%EC%A7%80%EA%B8%B0/">예외 깊게 살펴보기, 예외 동적으로 던지기 - 2025-05-31</a><li class="text-truncate lh-lg"> <a href="/en/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-ENUM-%EA%B0%92-%EB%8C%80%EC%9D%91,Interface-%ED%86%B5%ED%95%9C-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A0%9C%EA%B1%B0/">사용하지 않는 ENUM 값 대응 , Interface 를 통한 중복 코드 제거 - 2025-05-26</a><li class="text-truncate lh-lg"> <a href="/en/posts/oom-killer,-heap-memory,-heapdump/">oom killer, heap memory, heapdump - 2025-04-20</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">우테코</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">회고</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">깃허브</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">깃</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">코틀린</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">테스트</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/en/posts/CodePipeline-%EC%97%90%EC%84%9C-%ED%94%84%EB%9D%BC%EC%9D%B4%EB%B9%97-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88-%EB%8F%84%EC%9E%85%EA%B8%B0-Token-VS-SSH-In-Github/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1723046665" data-df="ll" > Aug 8, 2024 </time><h4 class="pt-0 my-2">CodePipeline 에서 프라이빗 서브모듈 도입기( Token VS SSH In Github )</h4><div class="text-muted"><p>이번에도 50번 정도의 삽질을 하며...</p></div></div></a></article><article class="col"> <a href="/en/posts/%EB%82%98%EB%A7%8C%EC%9D%98-Workflow-%ED%8C%8C%EC%9D%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0-%EB%B6%80%EC%A0%9C-%EC%9D%B4%EC%8A%88-%EA%B8%B0%EB%B0%98-PR-%EC%9E%90%EB%8F%99-%EC%83%9D%EC%84%B1%EA%B8%B0/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1722156083" data-df="ll" > Jul 28, 2024 </time><h4 class="pt-0 my-2">나만의 Workflow 파일 만들기 ( 부제 : 이슈 기반 PR 자동 생성기 )</h4><div class="text-muted"><p>워크플로우 Run 200번의 삽질을 하며 느낀점</p></div></div></a></article><article class="col"> <a href="/en/posts/%EC%9A%B0%ED%85%8C%EC%BD%94-%EB%A0%88%EB%B2%A82%EC%A4%91-%EB%B0%9B%EC%9D%80-%ED%81%AC%EB%A3%A8%EB%A6%AC%EB%B7%B0%EC%96%B4-%ED%94%BC%EB%93%9C%EB%B0%B1/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1720693837" data-df="ll" > Jul 11, 2024 </time><h4 class="pt-0 my-2">우테코 레벨2중 받은 크루,리뷰어 피드백</h4><div class="text-muted"><p>레벨2 백엔드 미션중 받은 피드백</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/en/posts/Dockerfile-%EC%A7%84%EC%A7%9C-%EC%9E%98-%EC%8D%A8%EB%B3%B4%EA%B8%B0/" class="btn btn-outline-primary" aria-label="Older" ><p>Dockerfile 진짜 잘 써보기</p></a> <a href="/en/posts/%EB%82%98%EB%A7%8C%EC%9D%98-Workflow-%ED%8C%8C%EC%9D%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0-%EB%B6%80%EC%A0%9C-%EC%9D%B4%EC%8A%88-%EA%B8%B0%EB%B0%98-PR-%EC%9E%90%EB%8F%99-%EC%83%9D%EC%84%B1%EA%B8%B0/" class="btn btn-outline-primary" aria-label="Newer" ><p>나만의 Workflow 파일 만들기 ( 부제 : 이슈 기반 PR 자동 생성기 )</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/youngsu5582">이영수</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">우테코</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">회고</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">깃허브</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">깃</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">코틀린</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">테스트</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'youngsu5582/blog', 'data-repo-id': 'R_kgDOOI2eig', 'data-category': 'Post', 'data-category-id': 'DIC_kwDOOI2eis4Cob3Y', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
