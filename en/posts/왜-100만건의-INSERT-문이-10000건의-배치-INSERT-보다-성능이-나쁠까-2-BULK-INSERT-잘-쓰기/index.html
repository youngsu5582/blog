<!doctype html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°" /><meta name="author" content="ì´ì˜ìˆ˜" /><meta property="og:locale" content="ko" /><meta name="description" content="ì €ëŠ” BATCH INSERT ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ( IDENTITY ì „ëµ ì—”í‹°í‹°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©° )" /><meta property="og:description" content="ì €ëŠ” BATCH INSERT ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ( IDENTITY ì „ëµ ì—”í‹°í‹°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©° )" /><link rel="canonical" href="https://youngsu5582.life//posts/%EC%99%9C-100%EB%A7%8C%EA%B1%B4%EC%9D%98-INSERT-%EB%AC%B8%EC%9D%B4-10000%EA%B1%B4%EC%9D%98-%EB%B0%B0%EC%B9%98-INSERT-%EB%B3%B4%EB%8B%A4-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%82%98%EC%81%A0%EA%B9%8C-2-BULK-INSERT-%EC%9E%98-%EC%93%B0%EA%B8%B0/" /><meta property="og:url" content="https://youngsu5582.life//posts/%EC%99%9C-100%EB%A7%8C%EA%B1%B4%EC%9D%98-INSERT-%EB%AC%B8%EC%9D%B4-10000%EA%B1%B4%EC%9D%98-%EB%B0%B0%EC%B9%98-INSERT-%EB%B3%B4%EB%8B%A4-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%82%98%EC%81%A0%EA%B9%8C-2-BULK-INSERT-%EC%9E%98-%EC%93%B0%EA%B8%B0/" /><meta property="og:site_name" content="ì´ì˜ìˆ˜ ê°œë°œ ë¸”ë¡œê·¸" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-12-21T16:40:09+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ì´ì˜ìˆ˜"},"dateModified":"2024-12-21T16:40:09+09:00","datePublished":"2024-12-21T16:40:09+09:00","description":"ì €ëŠ” BATCH INSERT ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ( IDENTITY ì „ëµ ì—”í‹°í‹°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©° )","headline":"ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°","mainEntityOfPage":{"@type":"WebPage","@id":"https://youngsu5582.life//posts/%EC%99%9C-100%EB%A7%8C%EA%B1%B4%EC%9D%98-INSERT-%EB%AC%B8%EC%9D%B4-10000%EA%B1%B4%EC%9D%98-%EB%B0%B0%EC%B9%98-INSERT-%EB%B3%B4%EB%8B%A4-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%82%98%EC%81%A0%EA%B9%8C-2-BULK-INSERT-%EC%9E%98-%EC%93%B0%EA%B8%B0/"},"url":"https://youngsu5582.life//posts/%EC%99%9C-100%EB%A7%8C%EA%B1%B4%EC%9D%98-INSERT-%EB%AC%B8%EC%9D%B4-10000%EA%B1%B4%EC%9D%98-%EB%B0%B0%EC%B9%98-INSERT-%EB%B3%B4%EB%8B%A4-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%82%98%EC%81%A0%EA%B9%8C-2-BULK-INSERT-%EC%9E%98-%EC%93%B0%EA%B8%B0/"}</script><title>ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸° | ì´ì˜ìˆ˜ ê°œë°œ ë¸”ë¡œê·¸</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ì´ì˜ìˆ˜ ê°œë°œ ë¸”ë¡œê·¸"><meta name="application-name" content="ì´ì˜ìˆ˜ ê°œë°œ ë¸”ë¡œê·¸"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GDSPGC31HX"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-GDSPGC31HX'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/en/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/en/">ì´ì˜ìˆ˜ ê°œë°œ ë¸”ë¡œê·¸</a><p class="site-subtitle fst-italic mb-0">Learning Kata</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/en/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/en/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/en/articles/" class="nav-link"> <i class="fa-fw "></i> <span>ARTICLES</span> </a><li class="nav-item"> <a href="/en/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/youngsu5582" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['joyson5582','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/en/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/%EC%98%81%EC%88%98-%EC%9D%B4-b78498347/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://www.rallit.com/hub/resumes/988543/%EC%9D%B4%EC%98%81%EC%88%98" aria-label="resume" target="_blank" rel="noopener noreferrer" > <i class="fas fa-file-alt"></i> </a> <a href="https://comet-pram-809.notion.site/185365707b6580859ec5ec052f2f6730" aria-label="portfolio" target="_blank" rel="noopener noreferrer" > <i class="fas fa-laptop-code"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/en/">Home</a> </span> <span>ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°</h1><p class="post-desc fw-light mb-4">ì €ëŠ” BATCH INSERT ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ( IDENTITY ì „ëµ ì—”í‹°í‹°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©° )</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1734766809" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Dec 21, 2024 </time> </span><div class="d-flex justify-content-between"> <span> By <em> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3097 words" > <em>17 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">ì™œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (2) - BULK INSERT ì˜ ì“°ê¸°</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog> <br><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%EB%B0%B1%EC%97%94%EB%93%9C/">ë°±ì—”ë“œ</a>, <a href="/categories/%EC%8A%A4%ED%94%84%EB%A7%81/">ìŠ¤í”„ë§</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/batch-insert/" class="post-tag no-text-decoration" >Batch Insert</a> <a href="/tags/jpa/" class="post-tag no-text-decoration" >JPA</a> <a href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/" class="post-tag no-text-decoration" >ìš°í…Œì½”</a> <a href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/" class="post-tag no-text-decoration" >ìŠ¤í”„ë§</a></div><div class="content"><blockquote><p>ì´ë²ˆ ë‚´ìš©ì€ <code class="language-plaintext highlighter-rouge">BATCH INSERT</code> ì¤‘ ë†“ì¹˜ê¸° ì‰¬ìš´ ë¶€ë¶„ì— ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤. í˜¹ì‹œ, ì˜ëª»ëœ ë‚´ìš©ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ë˜ëŠ” joyson5582@gmail.comë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”!</p></blockquote><p>ì´ë²ˆ ì‹œë¦¬ì¦ˆëŠ” ë‘ê°€ì§€ ë‚´ìš©ì„ ë‹¤ë£¹ë‹ˆë‹¤.</p><ul><li>ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„  BATCH INSERT ì™€ INSERT ì˜ ì°¨ì´ê°€ ì—†ê²Œ ìŠ¤í”„ë§ì´ ì œê³µí•´ì£¼ëŠ” ê¸°ëŠ¥<li>ìŠ¤í”„ë§ + JPA ì—ì„œ BATCH INSERT ë¥¼ <code class="language-plaintext highlighter-rouge">ì˜</code> ì‚¬ìš©</ul><p>í•´ë‹¹ ë‚´ìš©ì—ì„  ë‘ ë²ˆì§¸ ë‚´ìš©ì„ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.</p><h1 id="batch-insert">BATCH INSERT</h1><p>ì´ì œ, ì‹¤ì œë¡œ Spring + JPA ì—ì„œ INSERTë¥¼ í• ë•Œ BATCH INSERT ê°€ ì‘ë™í•˜ê²Œ í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><blockquote><p>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” <code class="language-plaintext highlighter-rouge">BULK INSERT</code> ì˜ ë‚´ìš©ì€ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤.</p></blockquote><h2 id="setting"><span class="me-2">SETTING</span><a href="#setting" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>BATCH INSERT ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì•„ë˜ ì˜ˆì œì™€ ì„¤ì •ì„ ê°€ì§€ê³  ì‹¤í—˜í•©ë‹ˆë‹¤.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Hello</span> <span class="o">{</span>  
  
    <span class="nd">@Id</span>  
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">SEQUENCE</span><span class="o">,</span> <span class="n">generator</span> <span class="o">=</span> <span class="s">"hello_seq"</span><span class="o">)</span>  
    <span class="nd">@SequenceGenerator</span><span class="o">(</span>  
            <span class="n">name</span> <span class="o">=</span> <span class="s">"hello_seq"</span><span class="o">,</span>  
            <span class="n">sequenceName</span> <span class="o">=</span> <span class="s">"test_sequence"</span><span class="o">,</span>  
            <span class="n">allocationSize</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="o">)</span>  
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

	<span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sample</span> <span class="o">{</span>  
    <span class="nd">@GeneratedValue</span>  
    <span class="nd">@Id</span>    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="na">spring</span><span class="pi">:</span>  
  <span class="na">jpa</span><span class="pi">:</span>  
    <span class="na">properties</span><span class="pi">:</span>  
      <span class="na">hibernate</span><span class="pi">:</span>  
        <span class="na">id</span><span class="pi">:</span>  
          <span class="na">optimizer</span><span class="pi">:</span>  
            <span class="na">pooled</span><span class="pi">:</span>  
              <span class="na">preferred</span><span class="pi">:</span> <span class="s">pooled-lo</span>  
        <span class="na">jdbc</span><span class="pi">:</span>  
          <span class="na">batch_size</span><span class="pi">:</span> <span class="s">60</span>  
        <span class="na">order_inserts</span><span class="pi">:</span> <span class="kc">true</span>  
        <span class="na">order_updates</span><span class="pi">:</span> <span class="kc">true</span>  
    <span class="na">open-in-view</span><span class="pi">:</span> <span class="kc">false</span>  
  <span class="na">datasource</span><span class="pi">:</span>  
    <span class="na">driver-class-name</span><span class="pi">:</span> <span class="s">com.mysql.cj.jdbc.Driver</span>  
    <span class="na">url</span><span class="pi">:</span> <span class="s">jdbc:mysql://localhost:3306/corea?rewriteBatchedStatements=true</span>
</pre></table></code></div></div><p>ì´ë•Œ <code class="language-plaintext highlighter-rouge">order_inserts</code> ,<code class="language-plaintext highlighter-rouge">rewriteBatchedStatements=true</code> ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ìš°ì„ , <code class="language-plaintext highlighter-rouge">rewriteBatchedStatements</code> ê°€ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©° DB ì— ì¿¼ë¦¬ê°€ ë‹¨ê±´ìœ¼ë¡œ ë‚˜ê°‘ë‹ˆë‹¤.</p><p>ì´ ì„¸íŒ…ë§Œ í•˜ë©´ ëì…ë‹ˆë‹¤!ë„ˆë¬´ ê°„ë‹¨í•œë°ìš” ğŸ¥² ì´ëŒ€ë¡œë§Œ í•˜ë©´ ëì¼ê¹Œìš”? ì—¬ê¸°ì— ì‚¬ìš©ì„ í•˜ë©° ë†“ì¹˜ê¸° ì‰¬ìš´ ìš”ì†Œë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p><h3 id="order_inserts-ê°€-false-ì´ë©´"><span class="me-2">order_inserts ê°€ false ì´ë©´?</span><a href="#order_inserts-ê°€-false-ì´ë©´" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">create</span> <span class="n">table</span> <span class="nf">test_sequence</span> <span class="o">(</span><span class="n">next_val</span> <span class="n">bigint</span><span class="o">)</span> <span class="n">engine</span><span class="o">=</span><span class="nc">InnoDB</span>
<span class="n">create</span> <span class="n">table</span> <span class="nf">sample_seq</span> <span class="o">(</span><span class="n">next_val</span> <span class="n">bigint</span><span class="o">)</span> <span class="n">engine</span><span class="o">=</span><span class="nc">InnoDB</span>
</pre></table></code></div></div><p>ì´ì™€ ê°™ì´ ë‘˜ë‹¤ ì‹œí€¸ìŠ¤ë¥¼ ë§Œë“¤ì–´ë†“ê³ </p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">100</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>  
    <span class="n">helloRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="k">new</span> <span class="nc">Hello</span><span class="o">());</span>  
    <span class="n">sampleRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="k">new</span> <span class="nc">Sample</span><span class="o">());</span>  
<span class="o">}</span>
</pre></table></code></div></div><p>ì™€ ê°™ì´ ì—”í‹°í‹°ë¥¼ ë™ì‹œì— ì €ì¥í•œë‹¤ê³  í•˜ë©´?</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">912032728</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">22</span><span class="o">)</span> <span class="o">[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">22</span><span class="o">)</span> <span class="o">[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">630905141</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">23</span><span class="o">)[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">23</span><span class="o">)</span> <span class="o">[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
</pre></table></code></div></div><p>ì •ë ¬ì´ ë˜ì§€ ì•Šì•„ INSERT ê°€ ë‹¨ê±´ìœ¼ë¡œ ë”°ë¡œ ë‚˜ê°€ê²Œ ë©ë‹ˆë‹¤.</p><blockquote><p>IDENTITY ë©´ <code class="language-plaintext highlighter-rouge">executeUpdate</code> SEQUENCE ë©´ <code class="language-plaintext highlighter-rouge">executeBatch</code> ê°€ ë‚˜ê°‘ë‹ˆë‹¤.</p></blockquote><p>order_inserts ê°€ true ì´ë©´</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(-</span><span class="mi">1109778298</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">1</span><span class="o">),(</span><span class="mi">657005443</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">2</span><span class="o">),</span> <span class="o">....</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(-</span><span class="mi">2018046374</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">61</span><span class="o">),(</span><span class="mi">1237383384</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">62</span><span class="o">),</span> <span class="o">...</span>

<span class="n">insert</span> <span class="n">into</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">1</span><span class="o">),(</span><span class="mi">2</span><span class="o">),(</span><span class="mi">3</span><span class="o">),(</span><span class="mi">4</span><span class="o">),</span> <span class="o">...</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">61</span><span class="o">),(</span><span class="mi">62</span><span class="o">),(</span><span class="mi">63</span><span class="o">),(</span><span class="mi">64</span><span class="o">),</span> <span class="o">...</span>
</pre></table></code></div></div><p>ì •ë ¬ ë° BATCH INSERT ê°€ ì œëŒ€ë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p><h3 id="with-stragety--identity"><span class="me-2">with stragety = IDENTITY</span><a href="#with-stragety--identity" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sample</span> <span class="o">{</span>  
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>  
    <span class="nd">@Id</span>  
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

	<span class="o">...</span>
<span class="o">}</span>

<span class="n">create</span> <span class="n">table</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span> <span class="n">bigint</span> <span class="n">not</span> <span class="kc">null</span> <span class="n">auto_increment</span><span class="o">,</span> <span class="n">primary</span> <span class="nf">key</span> <span class="o">(</span><span class="n">id</span><span class="o">))</span>
</pre></table></code></div></div><p>ì´ì™€ ê°™ì´ IDENTITY ë¥¼ í†µí•´ AUTO_INCREMENT ê°€ ëœë‹¤ë©´?</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">912032728</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">22</span><span class="o">)</span> <span class="o">[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">22</span><span class="o">)</span> <span class="o">[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">630905141</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">23</span><span class="o">)[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">sample</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">23</span><span class="o">)</span> <span class="o">[</span><span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
</pre></table></code></div></div><p>ì•„ê¹Œì™€ ê°™ì´ INSERT ê°€ ë‚˜ê°€ê²Œ ë©ë‹ˆë‹¤. ì´ìœ ëŠ” JPA ê°€ IDENTITY ì¼ë•ŒëŠ” batch insert ë¥¼ ì•ˆë˜ê²Œ í•©ë‹ˆë‹¤.</p><blockquote><p>For IDENTITY columns, the only way to know the identifier value is to execute the SQL INSERT. Hence, the INSERT is executed when the persist method is called and cannot be disabled until flush time.</p><p>For this reason, Hibernate disables JDBC batch inserts for entities using the IDENTITY generator strategy.</p></blockquote><p>JPA ì˜ì† ì»¨í…ìŠ¤íŠ¸ëŠ” ì—”í‹°í‹°ë¥¼ ì‹ë³„í• ë•Œ ì—”í‹°í‹° íƒ€ì…ê³¼ ì—”í‹°í‹°ì˜ id ê°’ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ ì‹ë³„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, IDENTITY ì—”í‹°í‹°ëŠ” insert ë¬¸ì„ ì‹¤í–‰í•´ì•¼ë§Œ id ê°’ì„ í™•ì¸ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— batch insert ë¥¼ ë¹„í™œì„±í™” í•©ë‹ˆë‹¤.</p><p>ì¦‰, BATCH INSERT ëŠ” IDENTITY ë¥¼ ì‚¬ìš©í•˜ëŠ” ì—”í‹°í‹°ì™€ ê°™ì´ ì‚¬ìš©ì´ ë˜ë©´ ì•ˆë©ë‹ˆë‹¤.</p><h2 id="connection-need-2"><span class="me-2">connection need 2</span><a href="#connection-need-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>  
    <span class="n">helloRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="k">new</span> <span class="nc">Hello</span><span class="o">());</span>  
    <span class="n">sampleRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="k">new</span> <span class="nc">Sample</span><span class="o">());</span>  
<span class="o">}</span>
</pre></table></code></div></div><p>ê·¸ëŸ¬ë©´</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="na">spring</span><span class="pi">:</span>
<span class="err">	</span><span class="na">datasource</span><span class="pi">:</span>  
<span class="err">	</span>  <span class="na">hikari</span><span class="pi">:</span>  
<span class="err">	</span>    <span class="na">maximum-pool-size</span><span class="pi">:</span> <span class="m">1</span>
<span class="err">	</span>    <span class="na">connection-timeout</span><span class="pi">:</span> <span class="m">5000</span>
</pre></table></code></div></div><p>ì»¤ë„¥ì…˜ì„ 1ë¡œ í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?</p><p>DeadLock ì´ ê±¸ë¦¬ê²Œ ë©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">ì–´ì°¨í”¼ DB ì— INSERT ë¥¼ í• ë•ŒëŠ” í•˜ë‚˜ì˜ ì»¤ë„¥ì…˜ì—ì„œ ì²˜ë¦¬í•˜ëŠ”ê±° ì•„ë‹Œê°€?</code> ë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ <code class="language-plaintext highlighter-rouge">SEQUENCE</code> ì˜ ë°©ì‹ì— ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">select</span> <span class="n">next_val</span> <span class="n">as</span> <span class="n">id_val</span> <span class="n">from</span> <span class="n">test_sequence</span> <span class="k">for</span> <span class="n">update</span> 
<span class="o">[</span><span class="nc">Created</span> <span class="nl">on:</span> <span class="nc">Sat</span> <span class="nc">Dec</span> <span class="mi">21</span> <span class="mo">02</span><span class="o">:</span><span class="mi">53</span><span class="o">:</span><span class="mi">08</span> <span class="no">KST</span> <span class="mi">2024</span><span class="o">,</span> <span class="nl">duration:</span> <span class="mi">1</span><span class="o">,</span> <span class="n">connection</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">698</span><span class="o">,</span> <span class="n">statement</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">0</span><span class="o">,</span> <span class="n">resultset</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">0</span>

<span class="n">insert</span> <span class="n">into</span> <span class="nf">hello</span> <span class="o">(</span><span class="n">num</span><span class="o">,</span><span class="n">sample_id</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="mi">1219424968</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">1</span><span class="o">),(</span><span class="mi">1962670487</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">2</span><span class="o">),(</span><span class="mi">1886671140</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">3</span><span class="o">),(</span><span class="mi">1195103281</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">4</span><span class="o">),(</span><span class="mi">1709743905</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">5</span><span class="o">)</span>
<span class="n">connection</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">697</span><span class="o">,</span> <span class="n">statement</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">0</span><span class="o">,</span> <span class="n">resultset</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">0</span>
</pre></table></code></div></div><p>ì‹œí€¸ìŠ¤ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì€ ê¸°ì¡´ ì‘ì—…ê³¼ ë¶„ë¦¬ëœ ì»¤ë„¥ì…˜ ì—ì„œ í•´ë‹¹ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.</p><ul><li><code class="language-plaintext highlighter-rouge">for update</code> ë¥¼ í†µí•´ ë™ì‹œì„± ì œì–´ í•´ì•¼í•¨ - ë‹¤ë¥¸ ì»¤ë„¥ì…˜ê³¼ ë™ì¼í•œ ID ê°€ì ¸ì˜¤ëŠ” ê²ƒ ë°©ì§€<li>ì‘ì—…ê³¼ ë³„ë„ ìƒíƒœë¡œ ê´€ë¦¬ë˜ì–´ì•¼ í•œë‹¤ - ì‘ì—…ì´ ë¡¤ë°±ë˜ì–´ë„ ì‹œí€¸ìŠ¤ëŠ” ë¡¤ë°±ì´ ë˜ì§€ ì•Šì•„ì•¼ í•œë‹¤</ul><p>ì¦‰, ê¸°ì¡´ ì»¤ë„¥ì…˜ê³¼ ë¬´ê´€í•œ ë³„ë„ì˜ ì»¤ë„¥ì…˜ ê°œìˆ˜ê°€ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤. ( ë‘ ê°œì˜ ì‹œí€¸ìŠ¤ì—ì„œ ê°€ì ¸ì™€ì•¼ í•˜ë”ë¼ë„, í•˜ë‚˜ì˜ ì»¤ë„¥ì…˜ìœ¼ë¡œ ë™ì‘ í•©ë‹ˆë‹¤. - ë‹¹ì—° )</p><blockquote><p>IDENTITY ëŠ” ì»¤ë„¥ì…˜ í•˜ë‚˜ë¡œ ìˆ˜í–‰ì´ ë©ë‹ˆë‹¤. DB ì— ì¶”ê°€ì ì¸ í˜¸ì¶œì„ ë³´ë‚¼ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸</p></blockquote><h2 id="batch_size--max_allowed_packet"><span class="me-2">batch_size , max_allowed_packet</span><a href="#batch_size--max_allowed_packet" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>BATCH SIZE ëŠ” JPA ê°€ ì—”í‹°í‹°ë¥¼ ë¬¶ëŠ” ê°œìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. MAX_ALLOWED_PACKET ì€ DBì—ì„œ ë°›ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ íŒ¨í‚·ì˜ í¬ê¸°ê°€ ìˆìŠµë‹ˆë‹¤. ( <code class="language-plaintext highlighter-rouge">show variables where Variable_name = 'max_allowed_packet';</code> ë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥ )</p><p>ê·¸ëŸ¬ë©´, íŠ¹ì • ì—”í‹°í‹° ë¬¶ìŒì´ í¬ê¸°ë¥¼ ì´ˆê³¼í•  ìˆ˜ë„ ìˆì§€ ì•Šì„ê¹Œìš”?</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BigEntity</span> <span class="o">{</span>  
  
    <span class="nd">@Id</span>  
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">SEQUENCE</span><span class="o">)</span>  
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>  
  
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"large_data"</span><span class="o">,</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">1024</span><span class="o">)</span>  
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">largeData</span><span class="o">;</span>  
  
    <span class="kd">public</span> <span class="nf">BigEntity</span><span class="o">()</span> <span class="o">{</span>  
        <span class="kd">final</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="mi">1024</span><span class="o">];</span>  
        <span class="nc">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="sc">'A'</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">largeData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>  
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nd">@Transactional</span>  
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">()</span> <span class="o">{</span>  
    <span class="kd">final</span> <span class="kt">var</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">IntStream</span><span class="o">.</span><span class="na">rangeClosed</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">20</span><span class="o">)</span>  
            <span class="o">.</span><span class="na">mapToObj</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">BigEntity</span><span class="o">())</span>  
            <span class="o">.</span><span class="na">toList</span><span class="o">();</span>  
    <span class="n">bigEntityRepository</span><span class="o">.</span><span class="na">saveAll</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>  
<span class="o">}</span>
</pre></table></code></div></div><p>ì˜ë„ì ìœ¼ë¡œ í° ê°’ì„ ìƒì„±í•˜ê³  ì €ì¥ì„ í•˜ë©´?</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">insert</span> <span class="n">into</span> <span class="nf">big_entity</span> <span class="o">(</span><span class="n">large_data</span><span class="o">,</span><span class="n">id</span><span class="o">)</span> <span class="n">values</span> <span class="o">(</span><span class="err">'</span><span class="no">AA</span> <span class="o">...</span> <span class="o">(</span><span class="n">truncated</span><span class="o">)</span> <span class="o">[</span><span class="nc">Created</span> <span class="nl">on:</span> <span class="nc">Sat</span> <span class="nc">Dec</span> <span class="mi">21</span> <span class="mi">13</span><span class="o">:</span><span class="mi">36</span><span class="o">:</span><span class="mi">13</span> <span class="no">KST</span> <span class="mi">2024</span><span class="o">,</span> <span class="nl">duration:</span> <span class="mi">2</span><span class="o">,</span> <span class="n">connection</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">23</span><span class="o">,</span> <span class="n">statement</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">0</span><span class="o">,</span> <span class="n">resultset</span><span class="o">-</span><span class="nl">id:</span> <span class="mi">0</span><span class="o">,</span>	<span class="n">at</span> <span class="n">com</span><span class="o">.</span><span class="na">zaxxer</span><span class="o">.</span><span class="na">hikari</span><span class="o">.</span><span class="na">pool</span><span class="o">.</span><span class="na">ProxyStatement</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">(</span><span class="nc">ProxyStatement</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">127</span><span class="o">)]</span>
<span class="o">...</span>
</pre></table></code></div></div><p>ì´ INSERT ì¿¼ë¦¬ê°€ 20ë²ˆì´ ì•„ë‹Œ 10ë²ˆ ë°œìƒí•©ë‹ˆë‹¤. Hibernate ê°€ Â DB ì˜Â <code class="language-plaintext highlighter-rouge">max_allowed_packet</code>Â ê°’ê³¼ ì¿¼ë¦¬ì˜ ê¸¸ì´ë¥¼ ë¹„êµí•˜ì—¬Â <code class="language-plaintext highlighter-rouge">max_allowed_packet</code>Â ë¯¸ë§Œìœ¼ë¡œ ë¶„í• í•˜ì—¬ ì „ì†¡í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.</p><p>ì¦‰, 60ê°œë¥¼ ë¬¶ì–´ì„œ ë³´ë‚´ë¼ê³  í–ˆì§€ë§Œ í¬ê¸°ë¥¼ ê°ì§€í•˜ê³  2ê°œì”© ë¬¶ì–´ì„œ ìš”ì²­ì„ ë³´ë‚¸ ê²ƒì…ë‹ˆë‹¤.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="nd">@Transactional</span>  
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">batchInsert</span><span class="o">()</span> <span class="o">{</span>  
    <span class="kd">final</span> <span class="kt">var</span> <span class="n">entities</span> <span class="o">=</span> <span class="nc">IntStream</span><span class="o">.</span><span class="na">rangeClosed</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">20</span><span class="o">)</span>  
            <span class="o">.</span><span class="na">mapToObj</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">BigEntity</span><span class="o">())</span>  
            <span class="o">.</span><span class="na">toList</span><span class="o">();</span>  
    <span class="nc">StringBuilder</span> <span class="n">sqlBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">"INSERT INTO big_entity (id, large_data) VALUES "</span><span class="o">);</span>  
  
    <span class="k">for</span> <span class="o">(</span><span class="kd">final</span> <span class="nc">BigEntity</span> <span class="n">entity</span> <span class="o">:</span> <span class="n">entities</span><span class="o">)</span> <span class="o">{</span>  
        <span class="n">sqlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"("</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">entity</span><span class="o">.</span><span class="na">getId</span><span class="o">()).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">"'"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">entity</span><span class="o">.</span><span class="na">getLargeData</span><span class="o">()).</span><span class="na">append</span><span class="o">(</span><span class="s">"'"</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">"),"</span><span class="o">);</span>  
  
        <span class="n">sqlBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">"INSERT INTO big_entity (id, large_data) VALUES "</span><span class="o">);</span>  
    <span class="o">}</span>  
    <span class="n">entityManager</span><span class="o">.</span><span class="na">createNativeQuery</span><span class="o">(</span><span class="n">sql</span><span class="o">).</span><span class="na">executeUpdate</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>ì´ì™€ê°™ì´ ì˜ë„ì ìœ¼ë¡œ NativeQuery ë¥¼ ì‘ì„±í•´ì„œ ë³´ë‚´ë©´?</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">com</span><span class="o">.</span><span class="na">mysql</span><span class="o">.</span><span class="na">cj</span><span class="o">.</span><span class="na">jdbc</span><span class="o">.</span><span class="na">exceptions</span><span class="o">.</span><span class="na">PacketTooBigException</span><span class="o">:</span> 
<span class="nc">Packet</span> <span class="k">for</span> <span class="n">query</span> <span class="n">is</span> <span class="n">too</span> <span class="nf">large</span> <span class="o">(</span><span class="mi">10</span><span class="o">,</span><span class="mi">399</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="o">,</span><span class="mi">096</span><span class="o">).</span> <span class="nc">You</span> <span class="n">can</span> <span class="n">change</span> <span class="k">this</span> <span class="n">value</span> <span class="n">on</span> <span class="n">the</span> <span class="n">server</span> <span class="n">by</span> <span class="n">setting</span> <span class="n">the</span> <span class="err">'</span><span class="n">max_allowed_packet</span><span class="err">'</span> <span class="n">variable</span><span class="o">.</span>
</pre></table></code></div></div><p>ì§€ì •ëœ íŒ¨í‚· í¬ê¸°ë³´ë‹¤ í¬ë‹¤ê³  <code class="language-plaintext highlighter-rouge">PacketTooBigException</code> ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. Hibernate ë¥¼ ì‚¬ìš©í•˜ë©´ <code class="language-plaintext highlighter-rouge">max_allowed_packet</code> ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ê±±ì •ì€ í¬ê²Œ ì—†ì„ê±° ê°™ìŠµë‹ˆë‹¤</p><blockquote><p>ë¬¼ë¡ , í•˜ë‚˜ì˜ ì—”í‹°í‹° í¬ê¸° ìì²´ê°€ <code class="language-plaintext highlighter-rouge">max_allowed_apcket</code> ë³´ë‹¤ í¬ë‹¤ë©´ ë™ì¼í•˜ê²Œ ë°œìƒí•©ë‹ˆë‹¤. Packet for query is too large (1,080 &gt; 1,024).</p></blockquote><p>í•´ë‹¹ ë¶€ë¶„ì—ì„  ì¶”ê°€ì ìœ¼ë¡œ ìƒê°í•´ì•¼ í•˜ëŠ” ìš”ì†Œê°€ ìˆìŠµë‹ˆë‹¤. ê²°êµ­, DB ì„œë²„ë„ WAS ì¸ ë§Œí¼ ë„¤íŠ¸ì›Œí¬ IO ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.</p><p>í•˜ë‚˜ì˜ ì»¤ë„¥ì…˜ì—ì„œ ìµœëŒ€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ IO ë° ì´ ì»¤ë„¥ì…˜ì—ì„œ ë°œìƒí•  ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.</p><ul><li>ì—”í‹°í‹° ì €ì¥ ì‘ì—…ì´ 4MB ë°œìƒ -&gt; ë™ì‹œì— ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í†µí•´ 10ê°œì˜ ì €ì¥ ì‘ì—… ë°œìƒ ê°€ëŠ¥? -&gt; ìµœëŒ€ 40MB(+a) ê¹Œì§€ ê°€ëŠ¥<li>ì—¬ëŸ¬ ê°œì˜ ì„œë²„ì—ì„œ ì‘ì—…, í•˜ë‚˜ì˜ ì„œë²„ê°€ í‰ê· ì ìœ¼ë¡œ 40MB ë„¤íŠ¸ì›Œí¬ IO ë°œìƒ -&gt; 40MB <code class="language-plaintext highlighter-rouge">*</code> n ë°œìƒ!<li>ì‘ë‹µ ë°ì´í„° ì—­ì‹œë„ ë„¤íŠ¸ì›Œí¬ IO ì— ì†í•œë‹¤.</ul><p>ì´ëŸ° ê´€ì ì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— BATCH_SIZE ëŠ” ì¡°ê¸ˆ ë” ê³ ë ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ( ì‚¬ì‹¤ìƒ, DB - WAS ë„¤íŠ¸ì›Œí¬ IO ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ì£¼ë²”ì´ë¯€ë¡œ )</p><h2 id="pooled-lo--pooled-optimizer"><span class="me-2">pooled-lo / pooled optimizer</span><a href="#pooled-lo--pooled-optimizer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ì´ ë‘ê°œëŠ” Hibernate ì—ì„œ ì‹œí€¸ìŠ¤ / í…Œì´ë¸” ì „ëµì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><p>ì°¨ì´ì ì€ ì‹œí€¸ìŠ¤ ê°’ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ëƒì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.</p><ul><li><code class="language-plaintext highlighter-rouge">pooled</code> ëŠ” ì‹œí€€ìŠ¤ì˜ ê°’ì´ <code class="language-plaintext highlighter-rouge">&lt;í˜„ì¬ ì‹œí€€ìŠ¤ ê°’&gt; - &lt;ì¦ë¶„ í¬ê¸°&gt; + 1</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">&lt;í˜„ì¬ ì‹œí€€ìŠ¤ ê°’&gt;</code> ì‚¬ì´ì˜ ID ê°’ì„ ìƒì„±í•©ë‹ˆë‹¤.<li><code class="language-plaintext highlighter-rouge">pooled-lo</code>ëŠ” ì‹œí€€ìŠ¤ì˜ ê°’ì„ <code class="language-plaintext highlighter-rouge">&lt;í˜„ì¬ ì‹œí€€ìŠ¤ ê°’&gt;</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">&lt;í˜„ì¬ ì‹œí€€ìŠ¤ ê°’&gt; + &lt;ì¦ë¶„ í¬ê¸°&gt; - 1</code> ì‚¬ì´ì˜ IDë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.</ul><p>ì¦‰, <code class="language-plaintext highlighter-rouge">pooled-lo</code> ëŠ” ë‹¤ìŒ í•˜í•œ ê°’ì„ ë°›ì•„ì˜¤ê³ , <code class="language-plaintext highlighter-rouge">pooled</code> ëŠ” ë‹¤ìŒ ìƒí•œ ê°’ì„ ë°›ì•„ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><p><a href="https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/"># Hibernate pooled and pooled-lo identifier generators</a></p><p>í•´ë‹¹ ë‚´ìš©ì—ì„œ ê·¸ë¦¼ìœ¼ë¡œ ëª…í™•í•˜ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤. ì¶”ê°€ë¡œ, ë°‘ì— ì‹¤ì œ í• ë‹¹ ë‚´ìš©ê³¼ í•¨ê»˜ ì¢€ ë” ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.</p><h3 id="id-í• ë‹¹"><span class="me-2">ID í• ë‹¹</span><a href="#id-í• ë‹¹" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Hello</span> <span class="o">{</span>
	<span class="nd">@Id</span>  
	<span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">SEQUENCE</span><span class="o">,</span> <span class="n">generator</span> <span class="o">=</span> <span class="s">"hello_seq"</span><span class="o">)</span>  
	<span class="nd">@SequenceGenerator</span><span class="o">(</span>  
	        <span class="n">name</span> <span class="o">=</span> <span class="s">"hello_seq"</span><span class="o">,</span>  
	        <span class="n">sequenceName</span> <span class="o">=</span> <span class="s">"test_sequence"</span><span class="o">,</span>  
	        <span class="n">allocationSize</span> <span class="o">=</span> <span class="mi">30</span> <span class="c1">// ë°°ì¹˜ë¥¼ ìœ„í•´ í•œë²ˆì— ê°€ì ¸ì˜¬ ID ê°œìˆ˜  </span>
	<span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
	<span class="o">...</span>
<span class="o">}</span>

<span class="o">====================================</span>

<span class="kd">final</span> <span class="kt">var</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">100</span><span class="o">)</span>  
        <span class="o">.</span><span class="na">mapToObj</span><span class="o">(</span><span class="n">ig</span> <span class="o">-&gt;</span> <span class="o">{</span>  
            <span class="k">return</span> <span class="k">new</span> <span class="nf">Hello</span><span class="o">();</span>  
        <span class="o">})</span>  
        <span class="o">.</span><span class="na">toList</span><span class="o">();</span>  
<span class="n">helloRepository</span><span class="o">.</span><span class="na">saveAll</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
</pre></table></code></div></div><p>ì´ì™€ê°™ì´ 30ê°œì”© ë°›ëŠ”ë°, 100ê°œë¥¼ ì €ì¥í•œë‹¤ê³  í•˜ë©´? ID ê°’ì´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p><p>ë¨¼ì €, í•œë²ˆ í˜¸ì¶œí•˜ê³  -&gt; ì¢…ë£Œ -&gt; ë‹¤ì‹œ í˜¸ì¶œì˜ í˜•ì‹ìœ¼ë¡œ í•˜ë©´?</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="o">...</span>
<span class="o">|</span>  <span class="mi">98</span> <span class="o">|</span>   <span class="mi">109501640</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">99</span> <span class="o">|</span>   <span class="mi">753818929</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">100</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">206975272</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">121</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">540423795</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">122</span> <span class="o">|</span> <span class="o">-</span><span class="mi">1952149142</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">123</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">141241656</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">...</span>
<span class="o">|</span> <span class="mi">217</span> <span class="o">|</span>  <span class="mi">1356764370</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">218</span> <span class="o">|</span> <span class="o">-</span><span class="mi">1757673762</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">219</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">751942886</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">220</span> <span class="o">|</span>   <span class="mi">714429396</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">+-----+-------------+-----------+</span>
</pre></table></code></div></div><p>pooled-lo ë°©ì‹</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="o">...</span>
<span class="o">|</span>  <span class="mi">98</span> <span class="o">|</span>   <span class="mi">109501640</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">99</span> <span class="o">|</span>   <span class="mi">753818929</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">100</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">206975272</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">122</span> <span class="o">|</span> <span class="o">-</span><span class="mi">1952149142</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">123</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">141241656</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">...</span>
<span class="o">|</span> <span class="mi">218</span> <span class="o">|</span> <span class="o">-</span><span class="mi">1757673762</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">219</span> <span class="o">|</span>  <span class="o">-</span><span class="mi">751942886</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">220</span> <span class="o">|</span>   <span class="mi">714429396</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">221</span> <span class="o">|</span>  <span class="mi">1356764370</span> <span class="o">|</span>      <span class="no">NULL</span> <span class="o">|</span>
<span class="o">+-----+-------------+-----------+</span>
</pre></table></code></div></div><p>pooled ë°©ì‹</p><p>pooled-lo ëŠ”</p><ol><li>ì²˜ìŒ í˜¸ì¶œì´ ë‹¤ìŒì˜ í•˜í•œê°’ì¸ 120ì„ ë°›ì•„ì˜µë‹ˆë‹¤.<li>ê·¸ ë‹¤ìŒ í˜¸ì¶œì€ 121 ~ 149 ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.<li>ê·¸ë ‡ê¸°ì— ë§ˆì§€ë§‰ì€ 220 ì…ë‹ˆë‹¤.</ol><p>pooled ëŠ”</p><ol><li>ì²˜ìŒ í˜¸ì¶œì´ ë‹¤ìŒì˜ ìƒí•œê°’ì¸ 121ì„ ë°›ì•„ì˜µë‹ˆë‹¤.<li>ê·¸ ë‹¤ìŒ í˜¸ì¶œì€ 151ì„ ë°›ì•„ì˜µë‹ˆë‹¤. ( 122 ~ 151 ê¹Œì§€ ì‚¬ìš© ) - 151 - 30 + 1 = 122 ( <code class="language-plaintext highlighter-rouge">&lt;í˜„ì¬ ì‹œí€€ìŠ¤ ê°’&gt; - &lt;ì¦ë¶„ í¬ê¸°&gt; + 1</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">&lt;í˜„ì¬ ì‹œí€€ìŠ¤ ê°’&gt;</code> )<li>ê·¸ë ‡ê¸°ì— ë§ˆì§€ë§‰ì€ 221ì´ ë©ë‹ˆë‹¤.</ol><blockquote><p>ê·¸ëŸ¬ë©´, ë‘˜ ì¤‘ì— ë­˜ ì¨ì•¼ í•˜ë‚˜? ì— ëŒ€í•œ ì§ˆë¬¸ì€ ì‚¬ì‹¤ ëª…í™•íˆ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.</p><p>ID ë²”ìœ„ê°€ í•­ìƒ <strong>ì‹œí€€ìŠ¤ ê°’ë¶€í„° ì‹œì‘</strong>í•˜ê¸° ë•Œë¬¸ì— ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì´ ë†’ê³  ì•ˆì •ì ì…ë‹ˆë‹¤. ë¼ê³  GPT + ë° ë§ì€ ë¸”ë¡œê·¸ì— ë‚´ìš©ì´ ë‚˜ì˜¤ë‚˜ ì‹¤ì œë¡œ ì—„ì²­ë‚˜ê²Œ ë§ì€ ì„œë²„ + ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ë¿ ëª…í™•í•˜ì§€ ì•Šì€ê±¸ ëŠê¼ˆìŠµë‹ˆë‹¤.</p></blockquote><blockquote><p>ë‹¨ìˆœ, ì‹œí€¸ìŠ¤ë¥¼ ë°›ì•„ì™€ ë°ì´í„°ë¥¼ ë„£ëŠ” ë¡œì§ì—ì„œ ê±¸ë¦¬ëŠ” ì‹œê°„ì€ ì•„ë˜ì™€ ê°™ì•˜ìŠµë‹ˆë‹¤.</p><p>pooled 1000 : ì‹¤í–‰ ì‹œê°„ 259ms (259170416ns) 10ë§Œ : ì‹¤í–‰ ì‹œê°„: 0ë¶„ 10ì´ˆ 152ms (10152567541ns) 100ë§Œ : ì‹¤í–‰ ì‹œê°„ 1ë¶„ 35ì´ˆ 179ms pooled-lo 1000 : ì‹¤í–‰ ì‹œê°„: 0ë¶„ 0ì´ˆ 183ms (183099958ns) 10ë§Œ : ì‹¤í–‰ ì‹œê°„: 0ë¶„ 9ì´ˆ 593ms (9593086833ns) 100ë§Œ : ì‹¤í–‰ ì‹œê°„: 1ë¶„ 29ì´ˆ 962ms (89962198875ns)</p></blockquote><p>ì™ ë§Œí•˜ë©´ <code class="language-plaintext highlighter-rouge">pooled-lo</code> ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ë  ê±° ê°™ìŠµë‹ˆë‹¤. ( ì„±ëŠ¥ + ì•ˆì •ì„± )</p><h2 id="ê²°ë¡ "><span class="me-2">ê²°ë¡ </span><a href="#ê²°ë¡ " class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ìœ„ ìš”ì†Œë“¤ì€ <code class="language-plaintext highlighter-rouge">Batch-Insert</code> ë¥¼ í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">saveAll</code> ë§Œ í•˜ê±°ë‚˜, <code class="language-plaintext highlighter-rouge">stragety=SEQUENCE</code> ë§Œ ì ìš©í•˜ë©´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìš”ì†Œë“¤ì— ëŒ€í•´ ë‹¤ë¤˜ìŠµë‹ˆë‹¤.</p><p>ì´ ì™¸ì—ë„ ë” ìì„¸íˆ ì‚´í´ë´ì•¼ í•˜ëŠ” ìš”ì†Œë“¤ì´ ì¡´ì¬í•˜ê² ì§€ë§Œ, ì´ëŠ” ì‹¤ì œ ë§ˆì£¼í•˜ê±°ë‚˜ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì„¸ë°€í•˜ê²Œ ì œì–´ë¥¼ í•´ì•¼ í•œë‹¤ê³  ìƒê°ì´ ë“­ë‹ˆë‹¤. ( ì–´ë–¤ BATCH-SIZE, SEQUENCE í• ë‹¹ ê°œìˆ˜ê°€ ì„±ëŠ¥ì´ ì¢‹ì€ê°€ or ì´ë¡œ ì¸í•´ ì»¤ë„¥ì…˜ ë°ë“œë½ì€ ì•ˆ ê±¸ë¦¬ëŠ”ê°€ )</p><p>ì´ìƒì…ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!</p><h3 id="ì°¸ê³ "><span class="me-2">ì°¸ê³ </span><a href="#ì°¸ê³ " class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://techblog.woowahan.com/2695/">MySQL í™˜ê²½ì˜ ìŠ¤í”„ë§ë¶€íŠ¸ì— í•˜ì´ë²„ë„¤ì´íŠ¸ ë°°ì¹˜ ì„¤ì •í•´ ë³´ê¸°</a> <a href="https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/">Hibernate pooled and pooled-lo identifier generators</a></p></div><div class="post-tail-wrapper text-muted"><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%99%9C%20100%EB%A7%8C%EA%B1%B4%EC%9D%98%20INSERT%20%EB%AC%B8%EC%9D%B4%2010000%EA%B1%B4%EC%9D%98%20%EB%B0%B0%EC%B9%98%20INSERT%20%EB%B3%B4%EB%8B%A4%20%EC%84%B1%EB%8A%A5%EC%9D%B4%20%EB%82%98%EC%81%A0%EA%B9%8C?%20(2)%20-%20BULK%20INSERT%20%EC%9E%98%20%EC%93%B0%EA%B8%B0%20-%20%EC%9D%B4%EC%98%81%EC%88%98%20%EA%B0%9C%EB%B0%9C%20%EB%B8%94%EB%A1%9C%EA%B7%B8&url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2F%25EC%2599%259C-100%25EB%25A7%258C%25EA%25B1%25B4%25EC%259D%2598-INSERT-%25EB%25AC%25B8%25EC%259D%25B4-10000%25EA%25B1%25B4%25EC%259D%2598-%25EB%25B0%25B0%25EC%25B9%2598-INSERT-%25EB%25B3%25B4%25EB%258B%25A4-%25EC%2584%25B1%25EB%258A%25A5%25EC%259D%25B4-%25EB%2582%2598%25EC%2581%25A0%25EA%25B9%258C-2-BULK-INSERT-%25EC%259E%2598-%25EC%2593%25B0%25EA%25B8%25B0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2F%25EC%2599%259C-100%25EB%25A7%258C%25EA%25B1%25B4%25EC%259D%2598-INSERT-%25EB%25AC%25B8%25EC%259D%25B4-10000%25EA%25B1%25B4%25EC%259D%2598-%25EB%25B0%25B0%25EC%25B9%2598-INSERT-%25EB%25B3%25B4%25EB%258B%25A4-%25EC%2584%25B1%25EB%258A%25A5%25EC%259D%25B4-%25EB%2582%2598%25EC%2581%25A0%25EA%25B9%258C-2-BULK-INSERT-%25EC%259E%2598-%25EC%2593%25B0%25EA%25B8%25B0%2F&text=%EC%99%9C%20100%EB%A7%8C%EA%B1%B4%EC%9D%98%20INSERT%20%EB%AC%B8%EC%9D%B4%2010000%EA%B1%B4%EC%9D%98%20%EB%B0%B0%EC%B9%98%20INSERT%20%EB%B3%B4%EB%8B%A4%20%EC%84%B1%EB%8A%A5%EC%9D%B4%20%EB%82%98%EC%81%A0%EA%B9%8C?%20(2)%20-%20BULK%20INSERT%20%EC%9E%98%20%EC%93%B0%EA%B8%B0%20-%20%EC%9D%B4%EC%98%81%EC%88%98%20%EA%B0%9C%EB%B0%9C%20%EB%B8%94%EB%A1%9C%EA%B7%B8" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2F%25EC%2599%259C-100%25EB%25A7%258C%25EA%25B1%25B4%25EC%259D%2598-INSERT-%25EB%25AC%25B8%25EC%259D%25B4-10000%25EA%25B1%25B4%25EC%259D%2598-%25EB%25B0%25B0%25EC%25B9%2598-INSERT-%25EB%25B3%25B4%25EB%258B%25A4-%25EC%2584%25B1%25EB%258A%25A5%25EC%259D%25B4-%25EB%2582%2598%25EC%2581%25A0%25EA%25B9%258C-2-BULK-INSERT-%25EC%259E%2598-%25EC%2593%25B0%25EA%25B8%25B0%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/en/posts/%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%9D%BC%EB%A9%B4-%EA%BC%AD-%EC%95%8C%EC%95%84%EC%95%BC-%ED%95%A0-AI-%EA%B8%B0%EC%88%A0-%ED%99%9C%EC%9A%A9%EB%B2%95-%EC%98%81%EC%83%81%EC%97%90-%EB%8C%80%ED%95%9C-%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%82%AC%EB%8B%B4/">ê°œë°œìë¼ë©´ ê¼­ ì•Œì•„ì•¼ í•  AI ê¸°ìˆ  í™œìš©ë²• ì˜ìƒ ì •ë¦¬ ë° ê°„ë‹¨í•œ ì‚¬ë‹´ - 2025-08-20</a><li class="text-truncate lh-lg"> <a href="/en/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-Jackson-%EC%84%A4%EC%A0%95%EB%93%A4-%EC%A0%95%EB%A6%AC/">ì‚¬ìš©í•˜ëŠ” Jacksonì˜ ì„¤ì • ë° ê¸°ëŠ¥ ì •ë¦¬ - 2025-06-17</a><li class="text-truncate lh-lg"> <a href="/en/posts/%EC%98%88%EC%99%B8-%EA%B9%8A%EA%B2%8C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0-%EC%98%88%EC%99%B8-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%8D%98%EC%A7%80%EA%B8%B0/">ì˜ˆì™¸ ê¹Šê²Œ ì‚´í´ë³´ê¸°, ì˜ˆì™¸ ë™ì ìœ¼ë¡œ ë˜ì§€ê¸° - 2025-05-31</a><li class="text-truncate lh-lg"> <a href="/en/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-ENUM-%EA%B0%92-%EB%8C%80%EC%9D%91,Interface-%ED%86%B5%ED%95%9C-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A0%9C%EA%B1%B0/">ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ENUM ê°’ ëŒ€ì‘ , Interface ë¥¼ í†µí•œ ì¤‘ë³µ ì½”ë“œ ì œê±° - 2025-05-26</a><li class="text-truncate lh-lg"> <a href="/en/posts/oom-killer,-heap-memory,-heapdump/">oom killer, heap memory, heapdump - 2025-04-20</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">ìš°í…Œì½”</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">ìŠ¤í”„ë§</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">íšŒê³ </a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">ê¹ƒí—ˆë¸Œ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">ìë°”</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">ê¹ƒ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">ì½”í‹€ë¦°</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">í…ŒìŠ¤íŠ¸</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/en/posts/%EC%A7%84%EC%A7%9C-100%EB%A7%8C%EA%B1%B4%EC%9D%98-INSERT-%EB%AC%B8%EC%9D%B4-10000%EA%B1%B4%EC%9D%98-%EB%B0%B0%EC%B9%98-INSERT-%EB%B3%B4%EB%8B%A4-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%82%98%EC%81%A0%EA%B9%8C-1-%EC%8A%A4%ED%94%84%EB%A7%81%EA%B3%BC-DB/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1734713918" data-df="ll" > Dec 21, 2024 </time><h4 class="pt-0 my-2">ì§„ì§œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (1) - ìŠ¤í”„ë§ê³¼ DB</h4><div class="text-muted"><p>ìŠ¤í”„ë§ - JPA ì™€ ì¹œí•´ì ¸ë³´ê¸°</p></div></div></a></article><article class="col"> <a href="/en/posts/SpringBootApplication-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0-SpringBootApplication-%EC%99%80-EntityScan-%EB%A5%BC-%EB%94%B0%EB%A1%9C-%EC%A7%80%EC%A0%95%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1735230321" data-df="ll" > Dec 27, 2024 </time><h4 class="pt-0 my-2">SpringBootApplication í†ºì•„ë³´ê¸° ( SpringBootApplication ì™€ EntityScan ë¥¼ ë”°ë¡œ ì§€ì •í•´ì•¼ í•˜ëŠ” ì´ìœ  )</h4><div class="text-muted"><p>ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ìë™ ì˜ì¡´ì„± ì£¼ì…</p></div></div></a></article><article class="col"> <a href="/en/posts/DispatcherServlet-%EC%9D%84-%EC%9A%B0%EB%A6%AC%EA%B0%80-%EC%82%AC%EC%9A%A9%ED%95%98%EB%82%98%EC%9A%94/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732811425" data-df="ll" > Nov 29, 2024 </time><h4 class="pt-0 my-2">DispatcherServlet ì„ ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ë‚˜ìš”?</h4><div class="text-muted"><p>DispatcherServlet Depth ê°€ ì–´ë””ê¹Œì§€ ê¹Šì–´ì§ˆê¹Œ. ì¬ê·€ì˜ ì¬ê·€ì˜ ì¬ê·€</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/en/posts/%EC%A7%84%EC%A7%9C-100%EB%A7%8C%EA%B1%B4%EC%9D%98-INSERT-%EB%AC%B8%EC%9D%B4-10000%EA%B1%B4%EC%9D%98-%EB%B0%B0%EC%B9%98-INSERT-%EB%B3%B4%EB%8B%A4-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%82%98%EC%81%A0%EA%B9%8C-1-%EC%8A%A4%ED%94%84%EB%A7%81%EA%B3%BC-DB/" class="btn btn-outline-primary" aria-label="Older" ><p>ì§„ì§œ 100ë§Œê±´ì˜ INSERT ë¬¸ì´ 10000ê±´ì˜ ë°°ì¹˜ INSERT ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ì ê¹Œ? (1) - ìŠ¤í”„ë§ê³¼ DB</p></a> <a href="/en/posts/SpringBootApplication-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0-SpringBootApplication-%EC%99%80-EntityScan-%EB%A5%BC-%EB%94%B0%EB%A1%9C-%EC%A7%80%EC%A0%95%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0/" class="btn btn-outline-primary" aria-label="Newer" ><p>SpringBootApplication í†ºì•„ë³´ê¸° ( SpringBootApplication ì™€ EntityScan ë¥¼ ë”°ë¡œ ì§€ì •í•´ì•¼ í•˜ëŠ” ì´ìœ  )</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Â© <time>2025</time> <a href="https://github.com/youngsu5582">ì´ì˜ìˆ˜</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">ìš°í…Œì½”</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">ìŠ¤í”„ë§</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">íšŒê³ </a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">ê¹ƒí—ˆë¸Œ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">ìë°”</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">ê¹ƒ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">ì½”í‹€ë¦°</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">í…ŒìŠ¤íŠ¸</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'youngsu5582/blog', 'data-repo-id': 'R_kgDOOI2eig', 'data-category': 'Post', 'data-category-id': 'DIC_kwDOOI2eis4Cob3Y', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
