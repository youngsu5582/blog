<!doctype html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="파티셔닝 톺아보기 in PostgreSQL" /><meta name="author" content="이영수" /><meta property="og:locale" content="ko" /><meta name="description" content="PostgreSQL에서 RANGE 파티셔닝을 통한 성능 최적화 방법을 다룹니다. 데이터 조회 효율성을 높이는 팁과 예제를 제공합니다." /><meta property="og:description" content="PostgreSQL에서 RANGE 파티셔닝을 통한 성능 최적화 방법을 다룹니다. 데이터 조회 효율성을 높이는 팁과 예제를 제공합니다." /><link rel="canonical" href="https://youngsu5582.life//posts/partitioning-in-postgresql/" /><meta property="og:url" content="https://youngsu5582.life//posts/partitioning-in-postgresql/" /><meta property="og:site_name" content="이영수 개발 블로그" /><meta property="og:image" content="https://youngsu5582.life//assets/img/thumbnail/2025-09-07-partitioning-in-postgresql.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-09-07T22:45:38+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://youngsu5582.life//assets/img/thumbnail/2025-09-07-partitioning-in-postgresql.png" /><meta property="twitter:title" content="파티셔닝 톺아보기 in PostgreSQL" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"이영수"},"dateModified":"2025-09-07T22:45:38+09:00","datePublished":"2025-09-07T22:45:38+09:00","description":"PostgreSQL에서 RANGE 파티셔닝을 통한 성능 최적화 방법을 다룹니다. 데이터 조회 효율성을 높이는 팁과 예제를 제공합니다.","headline":"파티셔닝 톺아보기 in PostgreSQL","image":"https://youngsu5582.life//assets/img/thumbnail/2025-09-07-partitioning-in-postgresql.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://youngsu5582.life//posts/partitioning-in-postgresql/"},"url":"https://youngsu5582.life//posts/partitioning-in-postgresql/"}</script><title>파티셔닝 톺아보기 in PostgreSQL | 이영수 개발 블로그</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="이영수 개발 블로그"><meta name="application-name" content="이영수 개발 블로그"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/ko.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GDSPGC31HX"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-GDSPGC31HX'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">이영수 개발 블로그</a><p class="site-subtitle fst-italic mb-0">Learning Kata</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span></span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/articles/" class="nav-link"> <i class="fa-fw "></i> <span>ARTICLES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/youngsu5582" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['joyson5582','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/%EC%98%81%EC%88%98-%EC%9D%B4-b78498347/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://www.rallit.com/hub/resumes/988543/%EC%9D%B4%EC%98%81%EC%88%98" aria-label="resume" target="_blank" rel="noopener noreferrer" > <i class="fas fa-file-alt"></i> </a> <a href="https://comet-pram-809.notion.site/185365707b6580859ec5ec052f2f6730" aria-label="portfolio" target="_blank" rel="noopener noreferrer" > <i class="fas fa-laptop-code"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/"></a> </span> <span>파티셔닝 톺아보기 in PostgreSQL</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button><style> .language-switcher { display: flex; gap: 10px; list-style: none; margin: 0; padding: 0; } .language-switcher li a { padding: 5px 10px; border: 1px solid #ccc; border-radius: 5px; text-decoration: none; color: #333; background-color: #f0f0f0; } .language-switcher li a:hover { background-color: #e0e0e0; } .language-switcher li .active-lang { /* 현재 활성화된 언어 텍스트 스타일 */ padding: 5px 10px; border: 1px solid #007bff; border-radius: 5px; color: white; background-color: #007bff; cursor: default; }</style><ul class="language-switcher"><li> <span class="active-lang">한국어</span><li> <a href="https://youngsu5582.life//en/">English</a></ul><search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel"></button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>파티셔닝 톺아보기 in PostgreSQL</h1><p class="post-desc fw-light mb-4">PostgreSQL에서 RANGE 파티셔닝을 통한 성능 최적화 방법을 다룹니다. 데이터 조회 효율성을 높이는 팁과 예제를 제공합니다.</p><div class="post-meta text-muted"> <span> <time data-ts="1757252738" data-df="DD/MM/YYYY" data-bs-toggle="tooltip" data-bs-placement="bottom" > 07/09/2025 </time> </span><div class="mt-3 mb-3"> <a href="/assets/img/thumbnail/2025-09-07-partitioning-in-postgresql.png" class="popup img-link preview-img shimmer"><img src="/assets/img/thumbnail/2025-09-07-partitioning-in-postgresql.png" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> <em> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3628 " > <em>20 </em> </span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">파티셔닝 톺아보기 in PostgreSQL</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1"></span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">파티셔닝 톺아보기 in PostgreSQL</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog> <br><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/postgresql/" class="post-tag no-text-decoration" >PostgreSQL</a> <a href="/tags/%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D/" class="post-tag no-text-decoration" >파티셔닝</a> <a href="/tags/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/" class="post-tag no-text-decoration" >데이터베이스</a> <a href="/tags/%EC%84%B1%EB%8A%A5%EC%B5%9C%EC%A0%81%ED%99%94/" class="post-tag no-text-decoration" >성능최적화</a></div><div class="content"><blockquote><p>해당 내용은 RANGE 파티셔닝에 대해서만 다룹니다.</p></blockquote><p>DB 에서 성능 최적화의 가장 간단한 방식은 인덱스 일 것이다. RDBMS 의 구조상 대부분이 B-Tree 를 사용하고, B-Tree 는 O(logN) 의 시간복잡도로 데이터를 읽는 것이 가능하기 때문이다.</p><blockquote><p>log₂(1,000,000,000) 는 대략 30이다. 10억개의 데이터는 30번의 순회면 무조건 검색!</p></blockquote><p>하지만, 인덱스 역시도 모든걸 해결해주지 않는다.</p><p>결국 INSERT, UPDATE, DELETE 는 인덱스 트리의 수정을 요구한다 (I/O 부하, 쓰기 증폭 등 유발)</p><p>추가로, 순차적인 값 ( id, timestamp ) 은 B-Tree 구조상 가장 오른쪽 리프 페이지에만 삽입된다. -&gt; 페이지의 래치를 잠그기 위해 서로가 경쟁한다 ( Last Page Hotspot ) =&gt; 성능 저하를 유발할 가능성이 있다.</p><blockquote><p>물론, 이는 RDBMS 마다 다를 수 있다. PostgreSQL 은 직전 삽입한 페이지를 기억하고, ‘오른쪽 리프’ 라면 블록을 캐시해 바로 시도한다고 한다. <a href="https://www.postgresql.org/message-id/CAH2-WzkpJd5TP6uRCqa473mzZCNsVk5KjE3xrs-4%3DFfFiAMHog%40mail.gmail.com">Re: pgsql: Optimize btree insertions for common case of increasing values</a> <a href="https://doxygen.postgresql.org/nbtinsert_8c.html#a137ae10f1b043d662b679e87d981ad10">PostgreSQL Source Code</a> 의 <code class="language-plaintext highlighter-rouge">_bt_search_insert()</code> 의 부분을 참조하면 된다.</p></blockquote><p><a href="https://i.imgur.com/Ky4vOFE.png" class="popup img-link shimmer"><img src="https://i.imgur.com/Ky4vOFE.png" alt="" loading="lazy"></a></p><ul><li>페이지가 여전히 가장 오른쪽 리프 페이지인지ㅡ 새로운 튜플을 삽입할 충분한 공간이 있는지, 삽입하는 키가 이 페이지 가장 높은 키보다 큰지 확인한다. -&gt; 이 과정을 통과하면, 그대로 NULL 을 반환해 기존 block 을 캐싱해서 사용한다.</ul><p>각설하고, 이렇게 인덱스의 한계점을 느끼거나 아래와 같은 데이터 특성이라면 파티션을 적용한다.</p><p>데이터가 모든 데이터를 조회할 필요가 없다면?</p><ul><li>사용자의 일일, 월별 서비스 사용을 위한 데이터: 크레딧, 쿠키, 포인트 등등등<li>보관용 데이터: 사용 기록용 데이터, 어드민 사용자의 기록 감사용 데이터, 데이터 변경 이력용 데이터</ul><p>테이블의 모든 데이터가 사용 되지 않으니 함께 관리 및 처리할 필요가 없다.</p><h2 id="테이블-구조"><span class="me-2">테이블 구조</span><a href="#테이블-구조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="단일-테이블의-한계점"><span class="me-2">단일 테이블의 한계점</span><a href="#단일-테이블의-한계점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>하나의 논리적 테이블은 디스크 상에서 하나의 힙 파일 세트에 매핑되어, 테이블의 모든 튜플이 여기에 저장된다. INSERT 발생하면, 힙 파일 빈 공간에 순서대로 데이터가 들어가고 인덱스는 이런 주소를 저장한다.</ul><p>이런 힙 파일이 특정 크기 ( 기본값 1 GB ) 를 초과하면 새로운 힙 파일을 만들어내서 데이터를 계속 저장한다. ( 이런 파일들의 묶음이 힙 파일 셋 ) -&gt; 테이블이 커지면 이 파일들의 용량이 수백GB, TB 단위로 거대해진다.</p><ul><li><p>만약 인덱스를 사용할 수 없다면 엄청난 디스크 I/O 를 유발해 가용 I/O 대역폭을 소진시킬 가능성이 존재한다. 인덱스를 통해 파일을 찾더라도, 실제 데이터를 가져오기 위해 힙 파일 셋 곳곳에 흩어져 있는 모든 데이터 블록들에 접근해야 한다. -&gt; 디스크 헤드가 끊임없이 움직여야 하는 랜덤 I/O 유발 가능</p><li><p>PostgreSQL 의 특성상 죽은 튜플을 정리하는 VACUUM 작업이 발생한다. 이런 VACUUM 작업 역시도 테이블 전체를 스캔하게 된다. ( FULL VACUUM 이라면…? )</p><li><p>데이터는 수명이 존재한다. 예를 들어, 보안 정책으로 인해 예전 데이터들을 다 폐기 해야 한다고 생각해보자. 10년치의 데이터가 저장되어 있는데 최근 3년치의 데이터만 저장을 하라고 보안 지침이 내려왔다.</p></ul><p>이런 테이블에 삭제 작업을 걸면서 무중단 배포를 해야 하는 요구사항? ☠️ ( 아마도, 데이터 동기화를 시도하고, 다른 테이블에서 작업 처리하고 라우팅을 바꾸는게 더 가능성이 있지 않을까… )</p><h3 id="파티셔닝-테이블"><span class="me-2">파티셔닝 테이블</span><a href="#파티셔닝-테이블" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>파티션된 테이블은 실제 데이터를 저장하지 않는 논리적인 컨테이너이다. 실제 데이터들은 각 파티션이 나뉘어 저장된다. 그리고, 이 나뉜 파티션들이 그 자체로 하나의 테이블로 처리된다.</p><p>내부적으로 완전히 독립된 물리적 파일 ( relfilenode ) 과 인덱스를 가진다. 추가로, 다른 파티션과 디스크 I/O 경합을 피할 수 있다. (<code class="language-plaintext highlighter-rouge">+</code> 자주 접근되는 블록만 메모리에 상주할 확률이 높아져 캐시 히트율 증가 )</p><blockquote><p>relfilenode? 물리적 데이터 파일을 가르키는 내부 식별자 (DB 데이터 디레토리 안에 실제 파일 이름) &lt;-&gt; 객체를 논리적으로 식별하는 건 OID(Object ID) OID 와 relfilenode 를 분리함으로써 물리적 파일을 통으로 교체하는 명령어를 매우 효율적으로 처리한다. ( TRUNCATE, VACUUM FULL, REINDEX 등등 - 수억 개를 직접 지우는게 아닌 새로운 relfilenode 를 가르키도록 업데이트 )</p></blockquote><p>각 파티션이 자신만의 작고 독립적인 인덱스를 가져서 인덱스의 깊이를 조절 가능하다. ( 날짜별로 한다면, 일정량 정해진 숫자만큼 계속 유지 )</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">logs_partitioned</span> <span class="p">(</span>  
                                  <span class="n">id</span> <span class="n">BIGSERIAL</span><span class="p">,</span>  
                                  <span class="n">log_level</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>  
                                  <span class="n">message</span> <span class="nb">TEXT</span><span class="p">,</span>  
                                  <span class="n">created_at</span> <span class="n">TIMESTAMPTZ</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>  
                                  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">created_at</span><span class="p">)</span>  
<span class="p">)</span> <span class="k">PARTITION</span> <span class="k">BY</span> <span class="k">RANGE</span> <span class="p">(</span><span class="n">created_at</span><span class="p">);</span>
</pre></table></code></div></div><p><a href="https://i.imgur.com/WrTkduf.png" class="popup img-link shimmer"><img src="https://i.imgur.com/WrTkduf.png" alt="400" loading="lazy"></a></p><p>적용하면, 총 테이블의 크기 - 파티션 테이블의 크기가 적절히 나눠져있는걸 볼 수 있다.</p><h2 id="파티션-프루닝"><span class="me-2">파티션 프루닝</span><a href="#파티션-프루닝" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>파티션을 사용하는 의의 중 하나</p><p>쿼리 플래너가 WHERE 절의 조건을 분석해, 쿼리 실행과 무관한 파티션은 검색 대상에서 제외한다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">EXPLAIN</span> <span class="p">(</span><span class="k">ANALYZE</span><span class="p">,</span> <span class="n">BUFFERS</span><span class="p">)</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">logs_single</span>
<span class="k">WHERE</span> <span class="n">created_at</span> <span class="o">&gt;=</span> <span class="s1">'2024-09-01 00:00:00 KST'</span> <span class="k">AND</span> <span class="n">created_at</span> <span class="o">&lt;</span> <span class="s1">'2024-10-01 00:00:00 KST'</span><span class="p">;</span>
</pre></table></code></div></div><blockquote><p>created_at 을 파티션 키로 사용하는 테이블</p></blockquote><p>GEMINI 의 도움을 받아 2억 4천만 건 정도의 데이터를 삽입했다고 해보자.</p><p><a href="https://i.imgur.com/fI4Nn5O.png" class="popup img-link shimmer"><img src="https://i.imgur.com/fI4Nn5O.png" alt="" loading="lazy"></a></p><p>인덱스를 적용하지 않으면 11초 정도</p><p><a href="https://i.imgur.com/wzUY5DP.png" class="popup img-link shimmer"><img src="https://i.imgur.com/wzUY5DP.png" alt="" loading="lazy"></a></p><blockquote><p>0.8초 실행</p></blockquote><ul><li>parallel index only scan : 테이블 본체를 읽지 않고, 인덱스를 읽어서 작업 완료, 3개의 프로세서가 처리 (1개의 메인, 2개의 워커) -&gt; 즉, 거대 인덱스에서 1개월치의 범위 스캔을 하는 것</ul><p><a href="https://i.imgur.com/4xGAtp7.png" class="popup img-link shimmer"><img src="https://i.imgur.com/4xGAtp7.png" alt="" loading="lazy"></a></p><blockquote><p>0.9초 실행</p></blockquote><ul><li>Parallel Seq Scan on logs_p2023_05 logs_partitioned : 파티션 프루닝이 동작 -&gt; <code class="language-plaintext highlighter-rouge">logs_partitioned</code> 테이블이 아니라, <code class="language-plaintext highlighter-rouge">logs_p2023_05</code> 인걸 확인가능 ( 여러개의 테이블 중 1개만 선택 )</ul><p>그러면 시간상 성능도 큰 차이가 없는데, 왜 파티션을 써야할까?</p><p>처리된 블록의 양을 보면 차이가 명확하다.</p><ul><li>Buffers shared hit=10086399 read=16043 : 메모리와 디스크를 통해 10,102,442 개의 블록 처리<li>Buffers: shared read=103093 : 103,093 개의 블록만 처리</ul><p>메모리에 블록들이 없다면, 결국 디스크에 읽어야 할 대상들이 늘어나게 되는 것이다. -&gt; 총 CPU 시간 증가, 메모리 캐시에 엄청난 공간 차지, 버퍼 오염 ( 다른 중요한 데이터들이 밀려날 수 있음 )</p><p>=&gt; 당장의 결과가 아닌, 장기적 데이터 증가에도 성능을 일정하게 유지를 시켜주는게 파티셔닝과 프루닝 이다.</p><h2 id="파티셔닝을-위한-실용적인-팁"><span class="me-2">파티셔닝을 위한 실용적인 팁</span><a href="#파티셔닝을-위한-실용적인-팁" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="created_at-은-왠만하면-미리-만들어-놓을-것"><span class="me-2">created_at 은 왠만하면 미리 만들어 놓을 것</span><a href="#created_at-은-왠만하면-미리-만들어-놓을-것" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>가끔씩 생각할 수 있다. <code class="language-plaintext highlighter-rouge">created_at 이 엔티티에 필요한가?</code></p><p><a href="https://www.reddit.com/r/webdev/comments/1cez61c/do_you_have_created_at_and_last_update_at_fields/">Do you have “created_at” and “last_update_at” fields on all your tables/entities? Yes? No? Why? Is it good / bad practice?</a></p><p>해당 내용을 읽어보면 모든 테이블에 포함시키는게 거의 매우 좋은 습관이다로 결론이 나있다.</p><ol><li>나중에 반드시 후회한다 : 처음에는 필요 없을지 몰라도, 나중에 필요해질 수 있다.<li>디버깅, 데이터 추적용 : 데이터 관련 문제가 발생했을 시, 언제 생성 또는 수정되는지 아는 것은 필수적인 단서가 된다.<li>캐시 무효화에도 사용 가능 : 최종 수정 시간을 확인해, 데이터가 여전히 유효한지 &amp; 새로고침해야 하는지 쉽게 판단 가능</ol><p>2억 4천만 건의 데이터에 created_at 을 인덱스를 적용하면</p><p><a href="https://i.imgur.com/vVl9s0V.png" class="popup img-link shimmer"><img src="https://i.imgur.com/vVl9s0V.png" alt="" loading="lazy"></a></p><p>1분 8초 가량의 시간이 걸린다. 데이터가 더 어마어마하게 쌓여있다면…? 무중단 운영에 영향을 주게 될 것이다. 즉, 미리미리 만들고 필요하다면 처리해놓는게 가장 깔끔하다.</p><blockquote><p>5000만개 정도 있고, 실제 작업이 되는 테이블에 생성 및 인덱스 처리하는 작업에는 5분도 걸리더라…</p></blockquote><blockquote><p>created_at 에만 인덱스를 거는게 필요한가? 라고 생각했는데 정렬 작업을 해야하는 요구사항이 있다면, 단일 칼럼으로 걸어도 괜찮은거 같다. <a href="https://laracasts.com/discuss/channels/eloquent/is-there-any-benefit-to-indexing-created-at-column">Is there any benefit to indexing ‘created_at’ column?</a> 해당 내용을 보면, 인덱스가 없는 정렬 과정에서 <code class="language-plaintext highlighter-rouge">Out of sort memory</code> 가 떴다고 한다. ( 인메모리 정렬 또는 파일 정렬 작업을 수행하기 때문에 )</p></blockquote><h3 id="점진적-파티셔닝--레거시-파티셔닝-"><span class="me-2">점진적 파티셔닝 ( 레거시 파티셔닝 )</span><a href="#점진적-파티셔닝--레거시-파티셔닝-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>기존에 파티셔닝을 적용하지 않은 데이터를 파티셔닝 테이블로 교체하려면 어떻게 해야할까? 이 데이터는 특히나, created_at 이라는 칼럼도 없고, 이 칼럼에 인덱스도 적용 안되어 있다고 가정한다.</p><blockquote><p>파티셔닝은 파티션할 칼럼에 인덱스가 걸려있어야만 가능하다.</p></blockquote><p>바로, 파티셔닝을 적용하지 않고 파티셔닝을 적용한 새로운 테이블을 만들고 향하게 하는 식으로 처리 가능하다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">VIEW</span> <span class="n">logs</span> <span class="k">AS</span>  
<span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">log_level</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">created_at</span> <span class="k">FROM</span> <span class="n">logs_temp</span>  
<span class="k">UNION</span> <span class="k">ALL</span>  
<span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">log_level</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">created_at</span> <span class="k">FROM</span> <span class="n">logs_parent</span><span class="p">;</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">logs_parent</span>  
    <span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">id</span> <span class="k">SET</span> <span class="k">DEFAULT</span> <span class="n">nextval</span><span class="p">(</span><span class="s1">'logs_temp_id_seq'</span><span class="p">::</span><span class="n">regclass</span><span class="p">);</span>
</pre></table></code></div></div><p>이전 테이블, 새로운 테이블 데이터를 가지는 VIEW 를 생성 부모의 Sequence 로 지정</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="k">DO</span> <span class="err">$</span><span class="k">do</span><span class="err">$</span>  
    <span class="k">DECLARE</span>  
        <span class="n">cutoff</span> <span class="n">CONSTANT</span> <span class="nb">timestamp</span> <span class="p">:</span><span class="o">=</span> <span class="n">now</span><span class="p">();</span>  
    <span class="k">BEGIN</span>        <span class="k">EXECUTE</span> <span class="n">format</span><span class="p">(</span><span class="err">$</span><span class="n">fmt</span><span class="err">$</span>  
        <span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">FUNCTION</span> <span class="n">trg_logs_union_mod</span><span class="p">()</span> <span class="k">RETURNS</span> <span class="k">trigger</span> <span class="k">AS</span>  
        <span class="err">$</span><span class="n">tg</span><span class="err">$</span>  
        <span class="k">DECLARE</span>  
            <span class="n">new_id</span> <span class="nb">BIGINT</span><span class="p">;</span>  
            <span class="n">_cutoff</span> <span class="n">CONSTANT</span> <span class="nb">timestamp</span> <span class="p">:</span><span class="o">=</span> <span class="nb">TIMESTAMP</span> <span class="s1">'%s'</span><span class="p">;</span>  
        <span class="k">BEGIN</span>            
	        <span class="n">IF</span> <span class="n">TG_OP</span> <span class="o">=</span> <span class="s1">'INSERT'</span> <span class="k">THEN</span>  
                <span class="n">IF</span> <span class="k">NEW</span><span class="p">.</span><span class="n">created_at</span> <span class="o">&lt;</span> <span class="n">_cutoff</span> <span class="k">THEN</span>  
                    <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">logs_temp</span> <span class="p">(</span><span class="n">log_level</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">created_at</span><span class="p">)</span>  
                    <span class="k">VALUES</span> <span class="p">(</span><span class="k">NEW</span><span class="p">.</span><span class="n">log_level</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">message</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">created_at</span><span class="p">)</span>  
                    <span class="n">RETURNING</span> <span class="n">id</span> <span class="k">INTO</span> <span class="n">new_id</span><span class="p">;</span>  
                <span class="k">ELSE</span>  
                    <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">logs_parent</span> <span class="p">(</span><span class="n">log_level</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">created_at</span><span class="p">)</span>  
                    <span class="k">VALUES</span> <span class="p">(</span><span class="k">NEW</span><span class="p">.</span><span class="n">log_level</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">message</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">created_at</span><span class="p">)</span>  
                    <span class="n">RETURNING</span> <span class="n">id</span> <span class="k">INTO</span> <span class="n">new_id</span><span class="p">;</span>  
                <span class="k">END</span> <span class="n">IF</span><span class="p">;</span>  
				<span class="k">NEW</span><span class="p">.</span><span class="n">id</span> <span class="p">:</span><span class="o">=</span> <span class="n">new_id</span><span class="p">;</span>  
                <span class="k">RETURN</span> <span class="k">NEW</span><span class="p">;</span>  
            <span class="n">ELSIF</span> <span class="n">TG_OP</span> <span class="o">=</span> <span class="s1">'UPDATE'</span> <span class="k">THEN</span>  
                <span class="n">IF</span> <span class="k">NEW</span><span class="p">.</span><span class="n">created_at</span> <span class="o">&lt;</span> <span class="n">_cutoff</span> <span class="k">THEN</span>  
                    <span class="k">UPDATE</span> <span class="n">logs_temp</span>  
                    <span class="k">SET</span>  
                        <span class="n">log_level</span>  <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">log_level</span><span class="p">,</span>  
                        <span class="n">message</span>    <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>  
                        <span class="n">created_at</span> <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">created_at</span>  
                    <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="k">OLD</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>  
                <span class="k">ELSE</span>                    
	                <span class="k">UPDATE</span> <span class="n">logs_parent</span>  
                    <span class="k">SET</span>  
                        <span class="n">log_level</span>  <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">log_level</span><span class="p">,</span>  
                        <span class="n">message</span>    <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>  
                        <span class="n">created_at</span> <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">created_at</span>  
                    <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="k">OLD</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>  
                <span class="k">END</span> <span class="n">IF</span><span class="p">;</span>  
                <span class="k">RETURN</span> <span class="k">NEW</span><span class="p">;</span>
			<span class="k">END</span> <span class="n">IF</span><span class="p">;</span>
			<span class="k">RETURN</span> <span class="k">NEW</span><span class="p">;</span>
        <span class="k">END</span><span class="p">;</span>
        <span class="err">$</span><span class="n">tg</span><span class="err">$</span> <span class="k">LANGUAGE</span> <span class="n">plpgsql</span><span class="p">;</span>  
    <span class="err">$</span><span class="n">fmt</span><span class="err">$</span><span class="p">,</span> <span class="n">cutoff</span><span class="p">);</span>  
    <span class="k">END</span><span class="p">;</span>
<span class="err">$</span><span class="k">do</span><span class="err">$</span> <span class="k">LANGUAGE</span> <span class="n">plpgsql</span><span class="p">;</span>
</pre></table></code></div></div><ul><li>cutoff 를 통해 함수가 선언되는 최초에 시간 지정<ul><li>지정 시간보다 이전이면, 예전 ( 파티셔닝 적용 X ) 에 INSERT/UPDATE<li>지정 시간보다 이후이면, 현재 ( 파티셔닝 적용 O ) 에 INSERT/UPDATE</ul></ul><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c1">-- 3) INSTEAD OF INSERT 트리거</span>
<span class="k">DROP</span> <span class="k">TRIGGER</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">trg_client_union_insert</span> <span class="k">ON</span> <span class="n">client</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TRIGGER</span> <span class="n">trg_client_union_insert</span>
    <span class="k">INSTEAD</span> <span class="k">OF</span> <span class="k">INSERT</span>
    <span class="k">ON</span> <span class="n">client</span>
    <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span>
<span class="k">EXECUTE</span> <span class="k">FUNCTION</span> <span class="n">trg_client_union_mod</span><span class="p">();</span>

<span class="c1">-- 4) INSTEAD OF UPDATE 트리거</span>
<span class="k">DROP</span> <span class="k">TRIGGER</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">trg_client_union_update</span> <span class="k">ON</span> <span class="n">client</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TRIGGER</span> <span class="n">trg_client_union_update</span>
    <span class="k">INSTEAD</span> <span class="k">OF</span> <span class="k">UPDATE</span>
    <span class="k">ON</span> <span class="n">client</span>
    <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span>
<span class="k">EXECUTE</span> <span class="k">FUNCTION</span> <span class="n">trg_client_union_mod</span><span class="p">();</span>
</pre></table></code></div></div><p>그리고 트리거로 VIEW 에 INSERT / UPDATE 가 들어오면 트리거를 동작하게 처리한다.</p><p>=&gt; 그 후, 이전 데이터가 필요없어지는 만큼 쌓이면 VIEW 를 해제하고 파티셔닝이 적용된 테이블만 사용하게 처리한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>BEGIN;

DROP TRIGGER IF EXISTS trg_client_union_insert ON client;
DROP TRIGGER IF EXISTS trg_client_union_update ON client;

-- client가 view일 때만 drop
DO $$
    BEGIN
        EXECUTE 'DROP VIEW IF EXISTS client';
    EXCEPTION
        WHEN wrong_object_type THEN
            -- view가 아닌 경우 (table이면) 그냥 무시
            NULL;
    END$$;
ALTER TABLE IF EXISTS client_temp RENAME TO client;
COMMIT;
</pre></table></code></div></div><blockquote><p>물론, 이 방법보다 더 좋은 방법이 있을수도 있다. 이렇게 수동 파티션 처리하는 것도 하나의 방법이라는 의미</p></blockquote><h3 id="조회-조건에-적절한-기본-범위-추가하기"><span class="me-2">조회 조건에 적절한 기본 범위 추가하기</span><a href="#조회-조건에-적절한-기본-범위-추가하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>대신, 파티셔닝을 사용하면 기본적인 조회도 파티션 키를 지정해줘야 한다.</p><p>그러지 않으면,</p><p><a href="https://i.imgur.com/eS88Rb8.png" class="popup img-link shimmer"><img src="https://i.imgur.com/eS88Rb8.png" alt="" loading="lazy"></a></p><p>전체 파티션을 스캔하게 된다. 물론, 각 파티션 내에서는 Primary key 인덱스를 타지만 불필요한 스캔을 유발시킨다.</p><p><a href="https://i.imgur.com/x1c4PrT.png" class="popup img-link shimmer"><img src="https://i.imgur.com/x1c4PrT.png" alt="" loading="lazy"></a></p><p>날짜만 알게 된다면 이렇게 빨리 처리 가능한데…</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c1">// 파티션 키가 createdAt이므로, startDate와 endDate 을 제공해줘야만 전체 or 파티션 순회를 돌지 않는다.</span>
<span class="kd">public</span> <span class="nc">LocalDateTime</span> <span class="nf">getStartDate</span><span class="o">()</span> <span class="o">{</span>
	<span class="k">return</span> <span class="n">startDate</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">startDate</span> <span class="o">:</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">().</span><span class="na">minusDays</span><span class="o">(</span><span class="mi">90</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="nc">LocalDateTime</span> <span class="nf">getEndDate</span><span class="o">()</span> <span class="o">{</span>
	<span class="k">return</span> <span class="n">endDate</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">endDate</span> <span class="o">:</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>즉, 기본 검색에도 이렇게 의도적인 범위를 지정해주자. 추가로, id 를 통한 검색이 로직상 꼭 필요한지도 고민을 잘 해야한다. - 파티션을 모르고 검색하는 쿼리</p><hr /><p>이상으로 파티셔닝에 대해 간단하게 살펴봤다. 느낀점으론 확장이 일어나고, 데이터가 계속 삽입될 거라면 미리 파티셔닝을 적용하는 것도 좋은 방법인거 같다.</p><p>물론, 비즈니스 요구사항과 데이터는 어떻게 될 지 모르니 정답은 없겠지만.</p></div><div class="post-tail-wrapper text-muted"><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"></div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted"></span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D%20%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0%20in%20PostgreSQL%20-%20%EC%9D%B4%EC%98%81%EC%88%98%20%EA%B0%9C%EB%B0%9C%20%EB%B8%94%EB%A1%9C%EA%B7%B8&url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2Fpartitioning-in-postgresql%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2Fpartitioning-in-postgresql%2F&text=%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D%20%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0%20in%20PostgreSQL%20-%20%EC%9D%B4%EC%98%81%EC%88%98%20%EA%B0%9C%EB%B0%9C%20%EB%B8%94%EB%A1%9C%EA%B7%B8" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2Fpartitioning-in-postgresql%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="" data-title-succeed="" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading"></h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/partitioning-in-postgresql/">파티셔닝 톺아보기 in PostgreSQL - 2025-09-07</a><li class="text-truncate lh-lg"> <a href="/posts/ai-tech-usage-summary-thoughts-ko/">개발자라면 꼭 알아야 할 AI 기술 활용법 영상 정리 및 간단한 사담 - 2025-08-20</a><li class="text-truncate lh-lg"> <a href="/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-Jackson-%EC%84%A4%EC%A0%95%EB%93%A4-%EC%A0%95%EB%A6%AC/">사용하는 Jackson의 설정 및 기능 정리 - 2025-06-17</a><li class="text-truncate lh-lg"> <a href="/posts/%EC%98%88%EC%99%B8-%EA%B9%8A%EA%B2%8C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0-%EC%98%88%EC%99%B8-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%8D%98%EC%A7%80%EA%B8%B0/">예외 깊게 살펴보기, 예외 동적으로 던지기 - 2025-05-31</a><li class="text-truncate lh-lg"> <a href="/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-ENUM-%EA%B0%92-%EB%8C%80%EC%9D%91,Interface-%ED%86%B5%ED%95%9C-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A0%9C%EA%B1%B0/">사용하지 않는 ENUM 값 대응 , Interface 를 통한 중복 코드 제거 - 2025-05-26</a></ul></section><section><h2 class="panel-heading"></h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">우테코</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">회고</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">깃허브</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">깃</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">코틀린</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">테스트</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0"></h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label"></h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/DB-%EC%84%A4%EA%B3%84%ED%95%98%EA%B8%B0/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1720104918" data-df="DD/MM/YYYY" > 04/07/2024 </time><h4 class="pt-0 my-2">DB 설계하기</h4><div class="text-muted"><p>DB & Entity 설계는 매우 어렵고 어렵구나.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/ai-tech-usage-summary-thoughts-ko/" class="btn btn-outline-primary" aria-label="" ><p>개발자라면 꼭 알아야 할 AI 기술 활용법 영상 정리 및 간단한 사담</p></a><div class="btn btn-outline-primary disabled" aria-label=""><p>-</p></div></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/youngsu5582">이영수</a>.</p><p></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading"></h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">우테코</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">회고</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">깃허브</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">깃</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">코틀린</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">테스트</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'ko';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'youngsu5582/blog', 'data-repo-id': 'R_kgDOOI2eig', 'data-category': 'Post', 'data-category-id': 'DIC_kwDOOI2eis4Cob3Y', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
