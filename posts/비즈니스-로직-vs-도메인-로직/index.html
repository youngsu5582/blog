<!doctype html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="비즈니스 로직 vs 도메인 로직?" /><meta name="author" content="이영수" /><meta property="og:locale" content="ko" /><meta name="description" content="꽤나 아리송하다.도메인 로직은 뭐고, 비즈니스 로직은 뭘까?도메인 로직은 간단한 도메인이 실행하는 로직, 비즈니스 로직은 서비스내 메소드 처럼 더 큰 로직 아니야?다른 사람들은 모르겠으나, 나는 이렇게 생각하고 있었다.그러면포인트를 계산해서 적립하는 코드는?달러 -&gt;" /><meta property="og:description" content="꽤나 아리송하다.도메인 로직은 뭐고, 비즈니스 로직은 뭘까?도메인 로직은 간단한 도메인이 실행하는 로직, 비즈니스 로직은 서비스내 메소드 처럼 더 큰 로직 아니야?다른 사람들은 모르겠으나, 나는 이렇게 생각하고 있었다.그러면포인트를 계산해서 적립하는 코드는?달러 -&gt;" /><link rel="canonical" href="https://youngsu5582.life//posts/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81-vs-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81/" /><meta property="og:url" content="https://youngsu5582.life//posts/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81-vs-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81/" /><meta property="og:site_name" content="{{ site.data.l10n.title }}" /><meta property="og:image" content="https://velog.velcdn.com/images/dragonsu/post/cc07d2c7-7cf8-4533-ae40-058c6bdd4235/image.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-06-28T12:55:29+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://velog.velcdn.com/images/dragonsu/post/cc07d2c7-7cf8-4533-ae40-058c6bdd4235/image.png" /><meta property="twitter:title" content="비즈니스 로직 vs 도메인 로직?" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"이영수"},"dateModified":"2024-06-28T12:55:29+09:00","datePublished":"2024-06-28T12:55:29+09:00","description":"꽤나 아리송하다.도메인 로직은 뭐고, 비즈니스 로직은 뭘까?도메인 로직은 간단한 도메인이 실행하는 로직, 비즈니스 로직은 서비스내 메소드 처럼 더 큰 로직 아니야?다른 사람들은 모르겠으나, 나는 이렇게 생각하고 있었다.그러면포인트를 계산해서 적립하는 코드는?달러 -&gt;","headline":"비즈니스 로직 vs 도메인 로직?","image":"https://velog.velcdn.com/images/dragonsu/post/cc07d2c7-7cf8-4533-ae40-058c6bdd4235/image.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://youngsu5582.life//posts/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81-vs-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81/"},"url":"https://youngsu5582.life//posts/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81-vs-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81/"}</script><title>비즈니스 로직 vs 도메인 로직? | {{ site.data.l10n.title }}</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="{{ site.data.l10n.title }}"><meta name="application-name" content="{{ site.data.l10n.title }}"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GDSPGC31HX"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-GDSPGC31HX'); }); </script><meta http-equiv="Content-Language" content="ko"><link rel="canonical" href="https://youngsu5582.life//posts/:title/"/><link rel="alternate" hreflang="ko" href="https://youngsu5582.life//posts/:title/"/><link rel="alternate" hreflang="x-default" href="https://youngsu5582.life//posts/:title/"/><link rel="alternate" hreflang="en" href="https://youngsu5582.life//en/posts/:title/"/><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">{{ site.data.l10n.title }}</a><p class="site-subtitle fst-italic mb-0">{{ site.data.l10n.tagline }}</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/articles/" class="nav-link"> <i class="fa-fw "></i> <span>ARTICLES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/youngsu5582" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['joyson5582','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/%EC%98%81%EC%88%98-%EC%9D%B4-b78498347/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://www.rallit.com/hub/resumes/988543/%EC%9D%B4%EC%98%81%EC%88%98" aria-label="resume" target="_blank" rel="noopener noreferrer" > <i class="fas fa-file-alt"></i> </a> <a href="https://comet-pram-809.notion.site/185365707b6580859ec5ec052f2f6730" aria-label="portfolio" target="_blank" rel="noopener noreferrer" > <i class="fas fa-laptop-code"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>비즈니스 로직 vs 도메인 로직?</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="language-switcher-container"> <a href="#" class="lang-btn active">한국어</a><a href="/en/posts/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81-vs-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81/" class="lang-btn">English</a></div><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>비즈니스 로직 vs 도메인 로직?</h1><p class="post-desc fw-light mb-4">꽤나 아리송하다.도메인 로직은 뭐고, 비즈니스 로직은 뭘까?도메인 로직은 간단한 도메인이 실행하는 로직, 비즈니스 로직은 서비스내 메소드 처럼 더 큰 로직 아니야?다른 사람들은 모르겠으나, 나는 이렇게 생각하고 있었다.그러면포인트를 계산해서 적립하는 코드는?달러 -></p><div class="post-meta text-muted"> <span> Posted <time data-ts="1719546929" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 28, 2024 </time> </span><div class="mt-3 mb-3"> <a href="https://velog.velcdn.com/images/dragonsu/post/cc07d2c7-7cf8-4533-ae40-058c6bdd4235/image.png" class="popup img-link preview-img shimmer"><img src="https://velog.velcdn.com/images/dragonsu/post/cc07d2c7-7cf8-4533-ae40-058c6bdd4235/image.png" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2484 words" > <em>13 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">비즈니스 로직 vs 도메인 로직?</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">비즈니스 로직 vs 도메인 로직?</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog> <br><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a>, <a href="/categories/%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C/">클린코드</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81/" class="post-tag no-text-decoration" >도메인 로직</a> <a href="/tags/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81/" class="post-tag no-text-decoration" >비즈니스 로직</a> <a href="/tags/%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%A1%9C%EC%A7%81/" class="post-tag no-text-decoration" >애플리케이션 서비스 로직</a> <a href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/" class="post-tag no-text-decoration" >우테코</a></div><div class="content"><p>꽤나 아리송하다. 도메인 로직은 뭐고, 비즈니스 로직은 뭘까?</p><p><code class="language-plaintext highlighter-rouge">도메인 로직은 간단한 도메인이 실행하는 로직,</code> <code class="language-plaintext highlighter-rouge">비즈니스 로직은 서비스내 메소드 처럼 더 큰 로직 아니야?</code></p><p>다른 사람들은 모르겠으나, 나는 이렇게 생각하고 있었다.</p><p>그러면</p><blockquote><p>포인트를 계산해서 적립하는 코드는?</p></blockquote><blockquote><p>달러 -&gt; 원화로 바꾸는 코드는?</p></blockquote><p>아래는 자신있게 도메인 로직이라 할 수 있으나, 위는 뭔가 헷갈린다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>적립할꺼면 DB에 저장도 하지 않나..? 그러면 서비스 로직인가? 
근데 또 계산과 적립은 포인트 - 사용자의 도메인 상호작용인데 도메인 로직인가..?
</pre></table></code></div></div><p>정답부터 말하면 비즈니스 로직과 도메인 로직은 같은 용어이다.</p><p><a href="https://i.imgur.com/NpYR0Ps.png" class="popup img-link shimmer"><img src="https://i.imgur.com/NpYR0Ps.png" alt="" loading="lazy"></a></p><p>그리고, 애매함을 느끼는 이유는 도메인(비즈니스) 로직 - 애플리케이션 서비스 로직이 분리가 되어 있지 않아서이다. 애플리케이션 서비스 로직은 뭐지?</p><h3 id="도메인-로직-in-소프트웨어-공학"><span class="me-2">도메인 로직 in 소프트웨어 공학</span><a href="#도메인-로직-in-소프트웨어-공학" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p>해당 부분은 <a href="https://www.youtube.com/watch?v=gbzDG_2XQYk">개발 아키텍처에서 말하는 비즈니스 로직•도메인 로직 한 방에 이해하기</a> 이 영상을 토대로 작성했다.</p></blockquote><p>은행 앱에서 존재하는 도메인들을 생각해보면? -&gt; 이자율,잔액,출금,계좌 개설,계좌 해지 등이 도메인</p><p>틱톡의 도메인은? -&gt; 영상 편집,댓글 조회,공유 등이 도메인</p><ul><li>코드가 현실 세상 문제에 대해 의사결정을 하고 있다면? -&gt; <span style="color:#00b0f0">도메인 로직</span><li>DB 연결, 백엔드 서버 API 호출, 동영상 캐싱, 애니메이션 추가 같이 현실 세상 문제 외적으로 사용자의 의사결정을 도와 준다면? -&gt; <span style="color:#00b0f0">어플리케이션 서비스 로직</span> ( 도메인 로직 X )</ul><p>예시를 들어보면 모바일 송금 앱에서 모바일 송금을 하는 케이스라면?</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>1. "계좌의 잔액"이 충분한지 확인
2. "송금 버튼 활성화", 유효하지 않으면 "에러 메시지" 띄움
3. 사용자 멤버쉽 등급에 맞는 "송금 수수료 계산"
4. 계산한 송금 수수료를 "결제하도록 외부 서비스에 요청"
5. 수수료와 송금액만큼 "사용자의 잔액을 감소"
6. 사용자의 잔액 "DB 저장"
</pre></table></code></div></div><h4 id="도메인-로직"><span class="me-2">도메인 로직</span><a href="#도메인-로직" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>계좌 잔액 충분한지 확인 -&gt; 송금이 가능한지 대한 <span style="color:#00b050">의사결정</span><li>사용자의 멤버쉽 등급에 맞춰 송금 수수료를 계산 -&gt; 송금에 드는 비용을 수수료 정책이나 멤버십 정책에 따라 <span style="color:#00b050">결정하는것</span><li>수수료와 송금액만큼 사용자의 잔액을 감소시킨다. -&gt; 송금후 잔액이 얼마인지 <span style="color:#00b050">계산</span><h4 id="애플리케이션-서비스-로직"><span class="me-2">애플리케이션 서비스 로직</span><a href="#애플리케이션-서비스-로직" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><li>“송금 버튼 활성화”, 유효하지 않으면 “에러 메시지” 띄움 -&gt; UI 로직<li>계산한 송금 수수료를 “결제하도록 외부 서비스에 요청” -&gt; 외부 서비스와의 네트워킹<li>사용자의 잔액 “DB 저장” -&gt; 영속성 로직</ol><hr /><h3 id="도메인-로직애플리케이션-서비스-로직의-분리"><span class="me-2">도메인 로직,애플리케이션 서비스 로직의 분리</span><a href="#도메인-로직애플리케이션-서비스-로직의-분리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>자 그러면, 다시 처음으로 돌아가서 <code class="language-plaintext highlighter-rouge">포인트를 계산해서 적립한다.</code> 를 분리해보자.</p><p>해당 내용은</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>1. 총 금액에서 사용자의 적립률을 통해 포인트를 계산한다.
2. 사용자의 포인트를 적립한다.
3. 사용자 변동 포인트를 DB에 반영한다.
</pre></table></code></div></div><p>되게 구체적이고, 길어진 것을 볼 수 있다. 1,2번은 도메인 로직 ( 포인트를 계산, 포인트를 적립 ) 3번은 애플리케이션 로직 ( DB에 저장 )</p><p>그러면 좀더 복잡한 로직으로 인프런에서 새로운 강의를 결제할때 로직은? ( 너무 길어지므로, 예외 메시지 반환 UI 로직은 생략 )</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>0. 프론트에서 외부 서비스 결제(카카오페이,카드 결제등) 진행후, 
   `결제 내역(결제 ID) &amp; 쿠폰 ID, 포인트 금액 &amp; 강의 ID, 사용자 토큰`등을 서버로 전달한다.

1. "쿠폰"이 사용자에게 유효한지 확인
2. 사용자의 포인트가 "사용한 포인트" 보다 큰지 확인
3. 강의 금액에서 할인과 적용한 포인트를 적용한 금액 계산
4. 금액과 결제 금액이 같은지 외부 서비스에 내역 조회
5. 사용자의 포인트를 감소
6. 사용자의 등급에 따라 금액에 따른 포인트 계산 후, 적립
7. 결제 내역 DB 저장, 사용자 변동 포인트 DB 반영
8. 결제 요약 정보 프론트에 전달 &amp; 렌더링
</pre></table></code></div></div><p>이때 비즈니스 로직은 1, 2, 3, 5, 6 번 요구사항을 위해 직접적인 의사결정을 하는 로직 ( 쿠폰 도메인이 사용자 도메인에게 적용되는지 확인, 사용자 도메인이 가지고 있는 포인트 금액 확인 등등 )</p><p>애플리케이션 서비스 로직은 4, 7, 8번 ( 4번은 외부 서비스 네트워킹 로직, 7번은 영속성 로직, 8번은 UI 로직 )</p><h3 id="왜-나눠야-할까"><span class="me-2">왜 나눠야 할까?</span><a href="#왜-나눠야-할까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>그러면 애플리케이션 서비스 로직과 도메인 로직은 왜 나눠야 하는지 생각해보자.</p><h4 id="테스트-용이"><span class="me-2">테스트 용이</span><a href="#테스트-용이" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>애플리케이션 서비스 로직은 보면 느끼듯이 다 테스트가 어려운 것들이다. ( DB 로직, UI 로직, 외부 네트워크 호출 )</p><p>이런 로직들이 같이 있으면 테스트가 어려워진다.</p><ol><li>강의 금액에서 할인과 적용한 포인트를 적용한 금액 계산<li>금액과 결제 금액이 같은지 외부 서비스에 내역 조회</ol><p>위 3,4번은 합쳐서 <code class="language-plaintext highlighter-rouge">강의 금액에서 할인된 금액을 계산하여 동일한지 검증한다.</code> 라는 로직이 될수도 있다.</p><p>이러면, 강의 금액에서 할이된 금액을 계산하는 로직을 테스트 하려면? -&gt; 외부 서비스 내역 조회까지 기능 구현 완료를 해야 테스트가 가능해진다. 심지어, 계산 로직을 하려면 외부 서비스와 연동을 확인해야만 한다..!</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nd">@Transactional</span>  
<span class="kd">public</span> <span class="nc">ApplyResponse</span> <span class="nf">approveApply</span><span class="o">(</span><span class="kd">final</span> <span class="kt">long</span> <span class="n">adminId</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">ApplyChangeRequest</span> <span class="n">request</span><span class="o">)</span> <span class="o">{</span>  
    <span class="n">validateAdmin</span><span class="o">(</span><span class="n">adminId</span><span class="o">);</span>  
    <span class="kd">final</span> <span class="nc">ApplyForm</span> <span class="n">form</span> <span class="o">=</span> <span class="n">applyFormRepository</span><span class="o">.</span><span class="na">getByIdOrThrow</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">applyId</span><span class="o">());</span>  
    <span class="n">form</span><span class="o">.</span><span class="na">approve</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">judgeDetail</span><span class="o">(),</span> <span class="n">adminId</span><span class="o">);</span>  
    <span class="k">return</span> <span class="nf">toResponse</span><span class="o">(</span><span class="n">form</span><span class="o">);</span>  
<span class="o">}</span>
</pre></table></code></div></div><p>지원서를 승인하는 로직이 있을때 승인한 결과를 이메일로 보내는 로직을 해당 코드에 넣는것과 해당 코드 외부에 두는것은 테스트의 난이도를 다르게 해준다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nd">@MockBean</span>  
<span class="kd">private</span> <span class="nc">EmailSender</span> <span class="n">emailSender</span><span class="o">;</span>

<span class="nd">@Test</span>  
<span class="kt">void</span> <span class="n">운영자가_지원서를_승인한다</span><span class="o">()</span> <span class="o">{</span>  
    <span class="kd">final</span> <span class="kt">long</span> <span class="n">userId</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>  
    <span class="kd">final</span> <span class="nc">ApplyForm</span> <span class="n">applyForm</span> <span class="o">=</span> <span class="n">applyFormRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">getDomain</span><span class="o">(</span><span class="n">userId</span><span class="o">,</span> <span class="n">getRequest</span><span class="o">()));</span>  
  
    <span class="n">sut</span><span class="o">.</span><span class="na">approveApply</span><span class="o">(</span><span class="no">ADMIN</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span> <span class="k">new</span> <span class="nc">ApplyChangeRequest</span><span class="o">(</span>  
            <span class="n">applyForm</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span>  
            <span class="s">"승인 완료"</span>  
    <span class="o">));</span>  
  
    <span class="kd">final</span> <span class="kt">var</span> <span class="n">result</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="na">findApplyFormWithUserId</span><span class="o">(</span><span class="n">userId</span><span class="o">);</span>  
    <span class="n">assertThat</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">applyStatus</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="nc">FormStatus</span><span class="o">.</span><span class="na">APPROVE</span><span class="o">.</span><span class="na">name</span><span class="o">());</span>  
    <span class="nc">Mockito</span><span class="o">.</span><span class="na">verify</span><span class="o">(</span><span class="n">emailSender</span><span class="o">,</span><span class="nc">Mockito</span><span class="o">.</span><span class="na">times</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>  
            <span class="o">.</span><span class="na">sendApplyJudgeMail</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">contractName</span><span class="o">(),</span> <span class="n">result</span><span class="o">.</span><span class="na">contactEmail</span><span class="o">(),</span><span class="n">result</span><span class="o">.</span><span class="na">applyStatus</span><span class="o">());</span>  
<span class="o">}</span>
</pre></table></code></div></div><p>메소드 내부에 있는 로직을 검증해야 하므로 불필요하게 Mocking을 해야하고, Spy를 통해 호출이 되었는지 확인할 수 밖에 없다. 더 문제는 이메일 로직이 바뀌면? -&gt; approve 로직이 같이 변경이 되야만 한다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/apply/approve"</span><span class="o">)</span>  
<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Void</span><span class="o">&gt;</span> <span class="nf">approveApply</span><span class="o">(</span><span class="nd">@AuthenticationPrincipal</span> <span class="kd">final</span> <span class="nc">UserPrincipal</span> <span class="n">userPrincipal</span><span class="o">,</span> <span class="nd">@RequestBody</span> <span class="kd">final</span> <span class="nc">ApplyChangeRequest</span> <span class="n">request</span><span class="o">)</span> <span class="o">{</span>  
    <span class="kd">final</span> <span class="nc">ApplyResponse</span> <span class="n">result</span> <span class="o">=</span> <span class="n">applyService</span><span class="o">.</span><span class="na">approveApply</span><span class="o">(</span><span class="n">userPrincipal</span><span class="o">.</span><span class="na">getUserId</span><span class="o">(),</span> <span class="n">request</span><span class="o">);</span>  
    <span class="n">emailSender</span><span class="o">.</span><span class="na">sendApplyJudgeMail</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">contractName</span><span class="o">(),</span><span class="n">result</span><span class="o">.</span><span class="na">contactEmail</span><span class="o">(),</span><span class="n">result</span><span class="o">.</span><span class="na">applyStatus</span><span class="o">());</span>  
    <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">ok</span><span class="o">()</span>  
            <span class="o">.</span><span class="na">build</span><span class="o">();</span>  
<span class="o">}</span>
</pre></table></code></div></div><ul><li>applyService 는 온전히 지원서 승인 로직<li>emailSender 는 이메일을 보내는 로직</ul><p>분리를 하면? 이메일을 보내는 로직은 실제로 테스트 하고 싶으면 하고, 하기 싫으면 하지 않으면 된다.</p><h4 id="명확한-도메인-분리"><span class="me-2">명확한 도메인 분리</span><a href="#명확한-도메인-분리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>가끔씩 서비스가 해야하는 로직일까, 도메인이 해야하는 로직일까 고민이 되는 경우가 있다. 이때도, 애플리케이션 서비스 로직 - 도메인 로직을 분리하면 명확하게 분리 가능하다! 유스 케이스를 길게 작성할수록, 로직에 대해 자세하게 설명할수록 두개는 분리된다.</p><p>OSI 7 계층처럼 분리하면 분리할수록 더욱 로직의 재사용이 쉬워지고 + 교체가 용이해진다.</p><hr /><p>사실 이 내용들은</p><p><a href="https://i.imgur.com/k8rFIDB.png" class="popup img-link shimmer"><img src="https://i.imgur.com/k8rFIDB.png" alt="500" loading="lazy"></a></p><p>서비스가 하는 역활인지, 도메인이 하는 역활인지 + passwordEncoder,user,passwordMatcher 중 책임이 누구한테 있는가? 라는 다소 다른 주제에서 나왔다.</p><p>하지만, 위 내용들을 토대로 누가하든 상관이 없으며, 그냥 도메인 로직임을 깨달았다. ( 물론, 코드적으로 객체지향적으로 더 나은 최선책은 있을 거라 생각 )</p><p>추가적으로 <a href="https://i.imgur.com/coXxF1J.png" class="popup img-link shimmer"><img src="https://i.imgur.com/coXxF1J.png" alt="" loading="lazy"></a></p><p>비즈니스 로직과 도메인 로직을 분리하는 관점도 있다. 가볍게 인터페이스와 구현체라고 생각만 하자.</p><p>p.s 항상 도움을 주는 리뷰어님과 코치에게 감사를.</p></div><div class="post-tail-wrapper text-muted"><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4%20%EB%A1%9C%EC%A7%81%20vs%20%EB%8F%84%EB%A9%94%EC%9D%B8%20%EB%A1%9C%EC%A7%81?%20-%20%7B%7B%20site.data.l10n.title%20%7D%7D&url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2F%25EB%25B9%2584%25EC%25A6%2588%25EB%258B%2588%25EC%258A%25A4-%25EB%25A1%259C%25EC%25A7%2581-vs-%25EB%258F%2584%25EB%25A9%2594%25EC%259D%25B8-%25EB%25A1%259C%25EC%25A7%2581%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2F%25EB%25B9%2584%25EC%25A6%2588%25EB%258B%2588%25EC%258A%25A4-%25EB%25A1%259C%25EC%25A7%2581-vs-%25EB%258F%2584%25EB%25A9%2594%25EC%259D%25B8-%25EB%25A1%259C%25EC%25A7%2581%2F&text=%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4%20%EB%A1%9C%EC%A7%81%20vs%20%EB%8F%84%EB%A9%94%EC%9D%B8%20%EB%A1%9C%EC%A7%81?%20-%20%7B%7B%20site.data.l10n.title%20%7D%7D" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fyoungsu5582.life%2F%2Fposts%2F%25EB%25B9%2584%25EC%25A6%2588%25EB%258B%2588%25EC%258A%25A4-%25EB%25A1%259C%25EC%25A7%2581-vs-%25EB%258F%2584%25EB%25A9%2594%25EC%259D%25B8-%25EB%25A1%259C%25EC%25A7%2581%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-Jackson-%EC%84%A4%EC%A0%95%EB%93%A4-%EC%A0%95%EB%A6%AC/">사용하는 Jackson의 설정 및 기능 정리 - 2025-06-17</a><li class="text-truncate lh-lg"> <a href="/posts/%EC%98%88%EC%99%B8-%EA%B9%8A%EA%B2%8C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0-%EC%98%88%EC%99%B8-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%8D%98%EC%A7%80%EA%B8%B0/">예외 깊게 살펴보기, 예외 동적으로 던지기 - 2025-05-31</a><li class="text-truncate lh-lg"> <a href="/posts/%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-ENUM-%EA%B0%92-%EB%8C%80%EC%9D%91,Interface-%ED%86%B5%ED%95%9C-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A0%9C%EA%B1%B0/">사용하지 않는 ENUM 값 대응 , Interface 를 통한 중복 코드 제거 - 2025-05-26</a><li class="text-truncate lh-lg"> <a href="/posts/oom-killer,-heap-memory,-heapdump/">oom killer, heap memory, heapdump - 2025-04-20</a><li class="text-truncate lh-lg"> <a href="/posts/%EB%8F%88%EC%9C%BC%EB%A1%9C-%EC%8B%9C%EA%B0%84-%EC%82%AC%EA%B8%B0/">돈으로 시간을 사기 - 부제 : openai 통한 게시글 소개글 및 섬네일 자동 생성 스크립트 - 2025-03-22</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">우테코</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">회고</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">깃허브</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">깃</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">코틀린</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">테스트</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/%EC%A7%80%EC%86%8D-%EC%84%B1%EC%9E%A5-%EA%B0%80%EB%8A%A5%ED%95%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EC%9C%84%ED%95%B4-%EC%8B%9C%EB%8F%84%ED%95%B4%EB%B3%BC-%EC%88%98-%EC%9E%88%EB%8A%94-%EA%B2%831-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B3%84%EC%B8%B5%EC%9D%84-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B3%84%EC%B8%B5-%EB%8B%B5%EA%B2%8C/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1729439278" data-df="ll" > Oct 21, 2024 </time><h4 class="pt-0 my-2">지속 성장 가능한 프로젝트를 위해 시도해볼 수 있는 것(1) - 서비스 계층을 서비스 계층 답게</h4><div class="text-muted"><p>서비스 계층이 100줄이 넘어가고, private 메소드가 10개가 넘어가는 당신이라면</p></div></div></a></article><article class="col"> <a href="/posts/%EB%AA%85%EC%84%B8%EB%A5%BC-%ED%95%A0%EB%95%8C-Controller%EC%9D%98-%EC%97%AD%ED%99%9C-%EB%B6%84%EB%A6%AC%ED%95%98%EC%9E%90/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1718170187" data-df="ll" > Jun 12, 2024 </time><h4 class="pt-0 my-2">명세를 할때 Controller의 역활 분리하자</h4><div class="text-muted"><p>언터페이스를 통해 Controller 역활 덜어내기</p></div></div></a></article><article class="col"> <a href="/posts/JPA-%EC%82%AC%EC%9A%A9-%EC%A4%91-%EC%BF%BC%EB%A6%AC-%EA%B0%80%EB%A1%9C%EC%B1%84%EA%B8%B0-%EB%AA%A8%EB%93%A0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%A4%91-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EC%BF%BC%EB%A6%AC-%EA%B2%80%EC%82%AC/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1723970932" data-df="ll" > Aug 18, 2024 </time><h4 class="pt-0 my-2">JPA 사용 중 쿼리 가로채기, 모든 컨트롤러 메소드 중 발생하는 쿼리 검사</h4><div class="text-muted"><p>이 글은 그 전 글인 자바 리플렉션 어디 까지 가능할까에 대한 추가적인 내용이다.매우 간단한 내용이므로, 쿼리 가로채기를 어떻게 구현했는지 + 최종적으로 내가 만든 결과서에 대해서 보여주고 마무리 할 예정이다.사실상, 하나의 요청에 나가는 쿼리 개수를 효율적으로 세어보</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/%EC%9A%B0%ED%85%8C%EC%BD%94-%EB%A0%88%EB%B2%A82-%ED%9A%8C%EA%B3%A0-%EB%8B%A4%EC%86%8C-%EA%B9%80/" class="btn btn-outline-primary" aria-label="Older" ><p>우테코 레벨2 회고( 다소 김 )</p></a> <a href="/posts/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A7%88%EC%9D%8C%EA%B0%80%EC%A7%90/" class="btn btn-outline-primary" aria-label="Newer" ><p>프로젝트를 위한 마음가짐</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/youngsu5582">이영수</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9A%B0%ED%85%8C%EC%BD%94/">우테코</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%9A%8C%EA%B3%A0/">회고</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83%ED%97%88%EB%B8%8C/">깃허브</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%83/">깃</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%ED%8B%80%EB%A6%B0/">코틀린</a> <a class="post-tag btn btn-outline-primary" href="/tags/%ED%85%8C%EC%8A%A4%ED%8A%B8/">테스트</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'youngsu5582/blog', 'data-repo-id': 'R_kgDOOI2eig', 'data-category': 'Post', 'data-category-id': 'DIC_kwDOOI2eis4Cob3Y', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
